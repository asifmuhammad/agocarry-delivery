{"version":3,"sources":["webpack:///src/app/new-delivery/new-delivery.page.html","webpack:///src/app/new-delivery/new-delivery-routing.module.ts","webpack:///src/app/new-delivery/new-delivery.module.ts","webpack:///src/app/new-delivery/new-delivery.page.scss","webpack:///src/app/new-delivery/new-delivery.page.ts"],"names":["routes","path","component","NewDeliveryPageRoutingModule","imports","forChild","exports","NewDeliveryPageModule","providers","declarations","NewDeliveryPage","navCtrl","translate","router","maps","iab","apiService","uiElementService","alertCtrl","myEvent","subscriptions","Array","initialized","distanceToShow","durationToShow","distance_metric","dm","getSettingValue","toLowerCase","profileMe","getProfile","getCurrentNavigation","extras","state","order_request","sub","unsubscribe","dismissLoading","selectedLocation","getLocation","mapLoaded","init","mapElement","nativeElement","pleaseConnect","then","plotMarkers","google","LatLng","Number","latitude","longitude","order","vendor","address","err","console","log","create","markerMePos","markerSourcePos","markerDestinationPos","Marker","position","map","icon","posBonds","LatLngBounds","extend","isEmpty","setTimeout","panTo","getCenter","directionsService","DirectionsService","directionsDisplay","DirectionsRenderer","polylineOptions","strokeColor","strokeOpacity","strokeWeight","markerOptions","opacity","clickable","dirReq","origin","destination","travelMode","TravelMode","DRIVING","route","result","status","DirectionsStatus","OK","setDirections","computeTotalDistance","keyTitle","keyMessage","get","subscribe","values","header","message","buttons","text","handler","updateRequest","alert","present","presentLoading","ref","child","String","delivery","id","set","push","updateOrderRequest","res","updateProfile","is_online","pop","setProfileData","presentToast","totalDistance","totalDuration","myroute","i","legs","length","distance","value","duration","setOrderDistanceDuration","formatDistance","formatDuration","refOrderStat","selector","template"],"mappings":"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","file":"new-delivery-new-delivery-module-es5.js","sourcesContent":["export default \"<ion-header class=\\\"bg_transparent\\\">\\n    <ion-toolbar>\\n        <ion-title>{{'new_delivery_task' | translate}}({{'order_id' | translate}}{{order_request.order.id}})</ion-title>\\n    </ion-toolbar>\\n</ion-header>\\n\\n<ion-content fullscreen>\\n    <div #map id=\\\"map\\\" class=\\\"map\\\">\\n        <ion-spinner></ion-spinner>\\n    </div>\\n    <div #pleaseConnect id=\\\"please-connect\\\">\\n        <!-- <p>{{'loading' | translate}}</p> -->\\n    </div>\\n</ion-content>\\n<ion-footer class=\\\"ion-no-border\\\">\\n    <ion-card *ngIf=\\\"order_request\\\">\\n        <div class=\\\"card_header d-flex\\\">\\n            <h3>{{distanceToShow}} {{distance_metric | translate}} <span>&nbsp;({{durationToShow}})</span></h3>\\n            <div class=\\\"direction end\\\" (click)=\\\"navigateOrder()\\\">\\n                <ion-icon class=\\\"zmdi zmdi-navigation ion-text-start\\\"></ion-icon>\\n                {{'direction' | translate}}\\n            </div>\\n        </div>\\n        <div class=\\\"delivery_details\\\">\\n            <div class=\\\"delivery_address d-flex\\\">\\n                <ion-icon class=\\\"zmdi zmdi-pin ion-text-start\\\"></ion-icon>\\n                <div class=\\\"text_box\\\">\\n                    <h2>{{order_request.order.vendor.name}}</h2>\\n                    <p>{{order_request.order.vendor.address}}</p>\\n                </div>\\n\\n                <!--\\n\\t\\t\\t\\t<div class=\\\"iocn_box end d-flex\\\">\\n\\t\\t\\t\\t\\t<ion-icon class=\\\"zmdi zmdi-phone ion-text-end end\\\"></ion-icon>\\n\\t\\t\\t\\t</div>\\n-->\\n                <div class=\\\"dotted\\\">\\n                    <span></span>\\n                    <span></span>\\n                    <span></span>\\n                </div>\\n\\n            </div>\\n            <div class=\\\"delivery_address d-flex\\\">\\n                <ion-icon class=\\\"zmdi zmdi-navigation ion-text-start\\\"></ion-icon>\\n                <div class=\\\"text_box\\\">\\n                    <h2>{{order_request.order.user.name}}</h2>\\n                    <p>{{order_request.order.address.formatted_address}}</p>\\n                </div>\\n                <!--\\n\\n\\t\\t\\t\\t<div class=\\\"iocn_box end d-flex\\\">\\n\\t\\t\\t\\t\\t<ion-icon class=\\\"zmdi zmdi-phone ion-text-end end\\\"></ion-icon>\\n\\t\\t\\t\\t</div>\\n-->\\n\\n            </div>\\n        </div>\\n    </ion-card>\\n\\n    <ion-row>\\n        <ion-col size=\\\"6\\\">\\n            <ion-button size=\\\"large\\\" shape=\\\"full\\\" class=\\\"btn\\\" (click)=\\\"confirmUpdate('accepted')\\\">\\n                {{'accept' | translate}}\\n            </ion-button>\\n        </ion-col>\\n\\n        <ion-col size=\\\"6\\\">\\n            <ion-button size=\\\"large\\\" shape=\\\"full\\\" class=\\\"btn danger\\\" (click)=\\\"confirmUpdate('rejected')\\\">\\n                {{'reject' | translate}}\\n            </ion-button>\\n        </ion-col>\\n    </ion-row>\\n</ion-footer>\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { NewDeliveryPage } from './new-delivery.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: NewDeliveryPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class NewDeliveryPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { TranslateModule } from '@ngx-translate/core';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { NewDeliveryPageRoutingModule } from './new-delivery-routing.module';\n\nimport { NewDeliveryPage } from './new-delivery.page';\nimport { GoogleMapsService } from '../services/network/google-maps.service';\nimport { InAppBrowser } from '@ionic-native/in-app-browser/ngx';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    TranslateModule,\n    NewDeliveryPageRoutingModule\n  ], providers: [InAppBrowser, GoogleMapsService],\n  declarations: [NewDeliveryPage]\n})\nexport class NewDeliveryPageModule { }\n","export default \"ion-header::before {\\n  content: \\\"\\\";\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n  width: 100%;\\n  height: 100%;\\n  display: block;\\n  background: linear-gradient(180deg, white 5%, rgba(252, 196, 27, 0) 100%);\\n}\\n\\n.map {\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n  width: 100%;\\n  height: 100%;\\n}\\n\\n.map .delivery_location {\\n  position: absolute;\\n  width: 22px;\\n}\\n\\n.map ion-icon {\\n  position: absolute;\\n  z-index: 99;\\n  background: var(--secondary);\\n  color: var(--white);\\n  border-radius: 50%;\\n  position: absolute;\\n  z-index: 99;\\n  background: var(--secondary);\\n  color: var(--white);\\n  border-radius: 50%;\\n  width: 42px;\\n  height: 42px;\\n  line-height: 42px;\\n  font-size: 1.3rem;\\n}\\n\\nion-footer {\\n  background: var(--white);\\n  margin: 0 auto;\\n  width: calc(100% - 30px);\\n  margin-bottom: 15px;\\n  border-radius: 10px;\\n  overflow: hidden;\\n  position: absolute;\\n  left: 0;\\n  right: 0;\\n  bottom: 0;\\n}\\n\\nion-footer ion-card {\\n  margin: 0;\\n  border-radius: 0;\\n  background: var(--white);\\n  padding: 0px;\\n  box-shadow: none;\\n}\\n\\nion-footer ion-card .card_header {\\n  background: var(--bg-color);\\n  padding: 10px 19px;\\n}\\n\\nion-footer ion-card .card_header h3 {\\n  margin: 0;\\n  color: var(--text-black);\\n  font-size: 1rem;\\n  font-weight: 600;\\n}\\n\\nion-footer ion-card .card_header h3 span {\\n  color: var(--text-light2);\\n  font-weight: 400;\\n  font-size: 0.9rem;\\n}\\n\\nion-footer ion-card .card_header .direction {\\n  font-size: 1rem;\\n  font-weight: 400;\\n  line-height: 36px;\\n  min-width: -webkit-fit-content;\\n  min-width: -moz-fit-content;\\n  min-width: fit-content;\\n  align-items: center;\\n  color: var(--primary);\\n  display: flex;\\n  background: var(--bg-color);\\n  letter-spacing: 0.5px;\\n}\\n\\nion-footer ion-card .card_header .direction ion-icon {\\n  font-size: 1.1rem;\\n  min-width: 23px;\\n}\\n\\nion-footer ion-card .delivery_details {\\n  position: relative;\\n  padding: 19px 19px;\\n}\\n\\nion-footer ion-card .delivery_details .dotted {\\n  display: block;\\n  position: absolute;\\n  top: 13px;\\n  left: -8px;\\n}\\n\\nion-footer ion-card .delivery_details .dotted span {\\n  position: relative;\\n  min-width: 30px;\\n  height: 12px;\\n  display: block;\\n}\\n\\nion-footer ion-card .delivery_details .dotted span::after {\\n  content: \\\"\\\";\\n  position: absolute;\\n  top: 27px;\\n  bottom: 0;\\n  left: 0;\\n  right: 0;\\n  border-radius: 50%;\\n  height: 4px;\\n  width: 4px;\\n  background: var(--primary);\\n  margin: auto;\\n}\\n\\nion-footer ion-card .delivery_details .delivery_address {\\n  position: relative;\\n  align-items: flex-start;\\n  min-height: 75px;\\n}\\n\\nion-footer ion-card .delivery_details .delivery_address:last-child {\\n  min-height: unset;\\n}\\n\\nion-footer ion-card .delivery_details .delivery_address ion-icon.zmdi-navigation, ion-footer ion-card .delivery_details .delivery_address ion-icon.zmdi-pin {\\n  color: var(--primary);\\n  font-size: 1.2rem;\\n  min-width: 33px;\\n  position: relative;\\n  background: var(--white);\\n  padding: 0 1px;\\n}\\n\\nion-footer ion-card .delivery_details .delivery_address .text_box h2 {\\n  margin: 0;\\n  color: var(--text-black);\\n  font-weight: 500;\\n  font-size: 0.93rem;\\n  letter-spacing: 0.4px;\\n  padding-bottom: 5px;\\n}\\n\\nion-footer ion-card .delivery_details .delivery_address .text_box p {\\n  margin: 0;\\n  color: var(--text-light2);\\n  font-size: 0.8rem;\\n  font-weight: 400;\\n  position: relative;\\n  z-index: 99;\\n}\\n\\nion-footer ion-card .delivery_details .delivery_address .iocn_box {\\n  min-width: 60px;\\n  width: -webkit-fit-content;\\n  width: -moz-fit-content;\\n  width: fit-content;\\n  margin-top: 12px;\\n}\\n\\nion-footer ion-card .delivery_details .delivery_address .iocn_box ion-icon {\\n  color: var(--primary);\\n  font-size: 1rem;\\n  min-width: 26px;\\n}\\n\\nion-footer ion-row ion-col {\\n  padding: 0;\\n}\\n\\nion-footer ion-row ion-col .button.btn {\\n  font-weight: 400;\\n  height: 58px;\\n}\\n\\nion-footer ion-row ion-col .button.btn.danger {\\n  --background: var(--red_color);\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbmV3LWRlbGl2ZXJ5L0Y6XFxmaXZlclxcQmVybmFyZFxcQWdvY2FycnlcXGFnb2NhcnJ5LWRlbGl2ZXJ5L3NyY1xcYXBwXFxuZXctZGVsaXZlcnlcXG5ldy1kZWxpdmVyeS5wYWdlLnNjc3MiLCJzcmMvYXBwL25ldy1kZWxpdmVyeS9uZXctZGVsaXZlcnkucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUNJO0VBQ0ksV0FBQTtFQUNBLGtCQUFBO0VBQ0EsTUFBQTtFQUNBLE9BQUE7RUFDQSxXQUFBO0VBQ0EsWUFBQTtFQUNBLGNBQUE7RUFDQSx5RUFBQTtBQ0FSOztBRElBO0VBQ0ksa0JBQUE7RUFDQSxNQUFBO0VBQ0EsT0FBQTtFQUNBLFdBQUE7RUFDQSxZQUFBO0FDREo7O0FER0k7RUFDSSxrQkFBQTtFQUNBLFdBQUE7QUNEUjs7QURJSTtFQUNJLGtCQUFBO0VBQ0EsV0FBQTtFQUNBLDRCQUFBO0VBQ0EsbUJBQUE7RUFDQSxrQkFBQTtFQUNBLGtCQUFBO0VBQ0EsV0FBQTtFQUNBLDRCQUFBO0VBQ0EsbUJBQUE7RUFDQSxrQkFBQTtFQUNBLFdBQUE7RUFDQSxZQUFBO0VBQ0EsaUJBQUE7RUFDQSxpQkFBQTtBQ0ZSOztBRE1BO0VBQ0ksd0JBQUE7RUFDQSxjQUFBO0VBQ0Esd0JBQUE7RUFDQSxtQkFBQTtFQUNBLG1CQUFBO0VBQ0EsZ0JBQUE7RUFDQSxrQkFBQTtFQUNBLE9BQUE7RUFDQSxRQUFBO0VBQ0EsU0FBQTtBQ0hKOztBREtJO0VBQ0ksU0FBQTtFQUNBLGdCQUFBO0VBQ0Esd0JBQUE7RUFDQSxZQUFBO0VBQ0EsZ0JBQUE7QUNIUjs7QURLUTtFQUNJLDJCQUFBO0VBQ0Esa0JBQUE7QUNIWjs7QURLWTtFQUNJLFNBQUE7RUFDQSx3QkFBQTtFQUNBLGVBQUE7RUFDQSxnQkFBQTtBQ0hoQjs7QURLZ0I7RUFDSSx5QkFBQTtFQUNBLGdCQUFBO0VBQ0EsaUJBQUE7QUNIcEI7O0FET1k7RUFDSSxlQUFBO0VBQ0EsZ0JBQUE7RUFDQSxpQkFBQTtFQUNBLDhCQUFBO0VBQUEsMkJBQUE7RUFBQSxzQkFBQTtFQUNBLG1CQUFBO0VBQ0EscUJBQUE7RUFDQSxhQUFBO0VBQ0EsMkJBQUE7RUFDQSxxQkFBQTtBQ0xoQjs7QURPZ0I7RUFDSSxpQkFBQTtFQUNBLGVBQUE7QUNMcEI7O0FEVVE7RUFDSSxrQkFBQTtFQUNBLGtCQUFBO0FDUlo7O0FEVVk7RUFDSSxjQUFBO0VBQ0Esa0JBQUE7RUFDQSxTQUFBO0VBQ0EsVUFBQTtBQ1JoQjs7QURVZ0I7RUFDSSxrQkFBQTtFQUNBLGVBQUE7RUFDQSxZQUFBO0VBQ0EsY0FBQTtBQ1JwQjs7QURVb0I7RUFDSSxXQUFBO0VBQ0Esa0JBQUE7RUFDQSxTQUFBO0VBQ0EsU0FBQTtFQUNBLE9BQUE7RUFDQSxRQUFBO0VBQ0Esa0JBQUE7RUFDQSxXQUFBO0VBQ0EsVUFBQTtFQUNBLDBCQUFBO0VBQ0EsWUFBQTtBQ1J4Qjs7QURhWTtFQUNJLGtCQUFBO0VBQ0EsdUJBQUE7RUFDQSxnQkFBQTtBQ1hoQjs7QURhZ0I7RUFDSSxpQkFBQTtBQ1hwQjs7QURlb0I7RUFFSSxxQkFBQTtFQUNBLGlCQUFBO0VBQ0EsZUFBQTtFQUNBLGtCQUFBO0VBQ0Esd0JBQUE7RUFDQSxjQUFBO0FDZHhCOztBRG1Cb0I7RUFDSSxTQUFBO0VBQ0Esd0JBQUE7RUFDQSxnQkFBQTtFQUNBLGtCQUFBO0VBQ0EscUJBQUE7RUFDQSxtQkFBQTtBQ2pCeEI7O0FEb0JvQjtFQUNJLFNBQUE7RUFDQSx5QkFBQTtFQUNBLGlCQUFBO0VBQ0EsZ0JBQUE7RUFDQSxrQkFBQTtFQUNBLFdBQUE7QUNsQnhCOztBRHNCZ0I7RUFDSSxlQUFBO0VBQ0EsMEJBQUE7RUFBQSx1QkFBQTtFQUFBLGtCQUFBO0VBQ0EsZ0JBQUE7QUNwQnBCOztBRHNCb0I7RUFDSSxxQkFBQTtFQUNBLGVBQUE7RUFDQSxlQUFBO0FDcEJ4Qjs7QUQ0QlE7RUFDSSxVQUFBO0FDMUJaOztBRDRCWTtFQUNJLGdCQUFBO0VBQ0EsWUFBQTtBQzFCaEI7O0FENEJnQjtFQUNJLDhCQUFBO0FDMUJwQiIsImZpbGUiOiJzcmMvYXBwL25ldy1kZWxpdmVyeS9uZXctZGVsaXZlcnkucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiaW9uLWhlYWRlciB7XG4gICAgJjo6YmVmb3JlIHtcbiAgICAgICAgY29udGVudDogXCJcIjtcbiAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgICB0b3A6IDA7XG4gICAgICAgIGxlZnQ6IDA7XG4gICAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgICBoZWlnaHQ6IDEwMCU7XG4gICAgICAgIGRpc3BsYXk6IGJsb2NrO1xuICAgICAgICBiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQoMTgwZGVnLCByZ2JhKDI1NSwgMjU1LCAyNTUsIDEpIDUlLCByZ2JhKDI1MiwgMTk2LCAyNywgMCkgMTAwJSk7XG4gICAgfVxufVxuXG4ubWFwIHtcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgdG9wOiAwO1xuICAgIGxlZnQ6IDA7XG4gICAgd2lkdGg6IDEwMCU7XG4gICAgaGVpZ2h0OiAxMDAlO1xuXG4gICAgLmRlbGl2ZXJ5X2xvY2F0aW9uIHtcbiAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgICB3aWR0aDogMjJweDtcbiAgICB9XG5cbiAgICBpb24taWNvbiB7XG4gICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICAgICAgei1pbmRleDogOTk7XG4gICAgICAgIGJhY2tncm91bmQ6IHZhcigtLXNlY29uZGFyeSk7XG4gICAgICAgIGNvbG9yOiB2YXIoLS13aGl0ZSk7XG4gICAgICAgIGJvcmRlci1yYWRpdXM6IDUwJTtcbiAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgICB6LWluZGV4OiA5OTtcbiAgICAgICAgYmFja2dyb3VuZDogdmFyKC0tc2Vjb25kYXJ5KTtcbiAgICAgICAgY29sb3I6IHZhcigtLXdoaXRlKTtcbiAgICAgICAgYm9yZGVyLXJhZGl1czogNTAlO1xuICAgICAgICB3aWR0aDogNDJweDtcbiAgICAgICAgaGVpZ2h0OiA0MnB4O1xuICAgICAgICBsaW5lLWhlaWdodDogNDJweDtcbiAgICAgICAgZm9udC1zaXplOiAxLjNyZW07XG4gICAgfVxufVxuXG5pb24tZm9vdGVyIHtcbiAgICBiYWNrZ3JvdW5kOiB2YXIoLS13aGl0ZSk7XG4gICAgbWFyZ2luOiAwIGF1dG87XG4gICAgd2lkdGg6IGNhbGMoMTAwJSAtIDMwcHgpO1xuICAgIG1hcmdpbi1ib3R0b206IDE1cHg7XG4gICAgYm9yZGVyLXJhZGl1czogMTBweDtcbiAgICBvdmVyZmxvdzogaGlkZGVuO1xuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICBsZWZ0OiAwO1xuICAgIHJpZ2h0OiAwO1xuICAgIGJvdHRvbTogMDtcblxuICAgIGlvbi1jYXJkIHtcbiAgICAgICAgbWFyZ2luOiAwO1xuICAgICAgICBib3JkZXItcmFkaXVzOiAwO1xuICAgICAgICBiYWNrZ3JvdW5kOiB2YXIoLS13aGl0ZSk7XG4gICAgICAgIHBhZGRpbmc6IDBweDtcbiAgICAgICAgYm94LXNoYWRvdzogbm9uZTtcblxuICAgICAgICAuY2FyZF9oZWFkZXIge1xuICAgICAgICAgICAgYmFja2dyb3VuZDogdmFyKC0tYmctY29sb3IpO1xuICAgICAgICAgICAgcGFkZGluZzogMTBweCAxOXB4O1xuXG4gICAgICAgICAgICBoMyB7XG4gICAgICAgICAgICAgICAgbWFyZ2luOiAwO1xuICAgICAgICAgICAgICAgIGNvbG9yOiB2YXIoLS10ZXh0LWJsYWNrKTtcbiAgICAgICAgICAgICAgICBmb250LXNpemU6IDFyZW07XG4gICAgICAgICAgICAgICAgZm9udC13ZWlnaHQ6IDYwMDtcblxuICAgICAgICAgICAgICAgIHNwYW4ge1xuICAgICAgICAgICAgICAgICAgICBjb2xvcjogdmFyKC0tdGV4dC1saWdodDIpO1xuICAgICAgICAgICAgICAgICAgICBmb250LXdlaWdodDogNDAwO1xuICAgICAgICAgICAgICAgICAgICBmb250LXNpemU6IDAuOXJlbTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC5kaXJlY3Rpb24ge1xuICAgICAgICAgICAgICAgIGZvbnQtc2l6ZTogMXJlbTtcbiAgICAgICAgICAgICAgICBmb250LXdlaWdodDogNDAwO1xuICAgICAgICAgICAgICAgIGxpbmUtaGVpZ2h0OiAzNnB4O1xuICAgICAgICAgICAgICAgIG1pbi13aWR0aDogZml0LWNvbnRlbnQ7XG4gICAgICAgICAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICAgICAgICAgICAgICBjb2xvcjogdmFyKC0tcHJpbWFyeSk7XG4gICAgICAgICAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1iZy1jb2xvcik7XG4gICAgICAgICAgICAgICAgbGV0dGVyLXNwYWNpbmc6IDAuNXB4O1xuXG4gICAgICAgICAgICAgICAgaW9uLWljb24ge1xuICAgICAgICAgICAgICAgICAgICBmb250LXNpemU6IDEuMXJlbTtcbiAgICAgICAgICAgICAgICAgICAgbWluLXdpZHRoOiAyM3B4O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC5kZWxpdmVyeV9kZXRhaWxzIHtcbiAgICAgICAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgICAgICAgICAgIHBhZGRpbmc6IDE5cHggMTlweDtcblxuICAgICAgICAgICAgLmRvdHRlZCB7XG4gICAgICAgICAgICAgICAgZGlzcGxheTogYmxvY2s7XG4gICAgICAgICAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgICAgICAgICAgIHRvcDogMTNweDtcbiAgICAgICAgICAgICAgICBsZWZ0OiAtOHB4O1xuXG4gICAgICAgICAgICAgICAgc3BhbiB7XG4gICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgICAgICAgICAgICAgICAgICAgbWluLXdpZHRoOiAzMHB4O1xuICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IDEycHg7XG4gICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6IGJsb2NrO1xuXG4gICAgICAgICAgICAgICAgICAgICY6OmFmdGVyIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6IFwiXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgICAgICAgICAgICAgICAgICAgICB0b3A6IDI3cHg7XG4gICAgICAgICAgICAgICAgICAgICAgICBib3R0b206IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZWZ0OiAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmlnaHQ6IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICBib3JkZXItcmFkaXVzOiA1MCU7XG4gICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IDRweDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOiA0cHg7XG4gICAgICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1wcmltYXJ5KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1hcmdpbjogYXV0bztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLmRlbGl2ZXJ5X2FkZHJlc3Mge1xuICAgICAgICAgICAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgICAgICAgICAgICAgICBhbGlnbi1pdGVtczogZmxleC1zdGFydDtcbiAgICAgICAgICAgICAgICBtaW4taGVpZ2h0OiA3NXB4O1xuXG4gICAgICAgICAgICAgICAgJjpsYXN0LWNoaWxkIHtcbiAgICAgICAgICAgICAgICAgICAgbWluLWhlaWdodDogdW5zZXQ7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaW9uLWljb24ge1xuICAgICAgICAgICAgICAgICAgICAmLnptZGktbmF2aWdhdGlvbixcbiAgICAgICAgICAgICAgICAgICAgJi56bWRpLXBpbiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogdmFyKC0tcHJpbWFyeSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb250LXNpemU6IDEuMnJlbTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1pbi13aWR0aDogMzNweDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6IHZhcigtLXdoaXRlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhZGRpbmc6IDAgMXB4O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLnRleHRfYm94IHtcbiAgICAgICAgICAgICAgICAgICAgaDIge1xuICAgICAgICAgICAgICAgICAgICAgICAgbWFyZ2luOiAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6IHZhcigtLXRleHQtYmxhY2spO1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9udC13ZWlnaHQ6IDUwMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvbnQtc2l6ZTogMC45M3JlbTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldHRlci1zcGFjaW5nOiAwLjRweDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhZGRpbmctYm90dG9tOiA1cHg7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBwIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1hcmdpbjogMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiB2YXIoLS10ZXh0LWxpZ2h0Mik7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb250LXNpemU6IDAuOHJlbTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvbnQtd2VpZ2h0OiA0MDA7XG4gICAgICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gICAgICAgICAgICAgICAgICAgICAgICB6LWluZGV4OiA5OTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC5pb2NuX2JveCB7XG4gICAgICAgICAgICAgICAgICAgIG1pbi13aWR0aDogNjBweDtcbiAgICAgICAgICAgICAgICAgICAgd2lkdGg6IGZpdC1jb250ZW50O1xuICAgICAgICAgICAgICAgICAgICBtYXJnaW4tdG9wOiAxMnB4O1xuXG4gICAgICAgICAgICAgICAgICAgIGlvbi1pY29uIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiB2YXIoLS1wcmltYXJ5KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvbnQtc2l6ZTogMXJlbTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1pbi13aWR0aDogMjZweDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGlvbi1yb3cge1xuICAgICAgICBpb24tY29sIHtcbiAgICAgICAgICAgIHBhZGRpbmc6IDA7XG5cbiAgICAgICAgICAgIC5idXR0b24uYnRuIHtcbiAgICAgICAgICAgICAgICBmb250LXdlaWdodDogNDAwO1xuICAgICAgICAgICAgICAgIGhlaWdodDogNThweDtcblxuICAgICAgICAgICAgICAgICYuZGFuZ2VyIHtcbiAgICAgICAgICAgICAgICAgICAgLS1iYWNrZ3JvdW5kOiB2YXIoLS1yZWRfY29sb3IpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cbiIsImlvbi1oZWFkZXI6OmJlZm9yZSB7XG4gIGNvbnRlbnQ6IFwiXCI7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgdG9wOiAwO1xuICBsZWZ0OiAwO1xuICB3aWR0aDogMTAwJTtcbiAgaGVpZ2h0OiAxMDAlO1xuICBkaXNwbGF5OiBibG9jaztcbiAgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KDE4MGRlZywgd2hpdGUgNSUsIHJnYmEoMjUyLCAxOTYsIDI3LCAwKSAxMDAlKTtcbn1cblxuLm1hcCB7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgdG9wOiAwO1xuICBsZWZ0OiAwO1xuICB3aWR0aDogMTAwJTtcbiAgaGVpZ2h0OiAxMDAlO1xufVxuLm1hcCAuZGVsaXZlcnlfbG9jYXRpb24ge1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIHdpZHRoOiAyMnB4O1xufVxuLm1hcCBpb24taWNvbiB7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgei1pbmRleDogOTk7XG4gIGJhY2tncm91bmQ6IHZhcigtLXNlY29uZGFyeSk7XG4gIGNvbG9yOiB2YXIoLS13aGl0ZSk7XG4gIGJvcmRlci1yYWRpdXM6IDUwJTtcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICB6LWluZGV4OiA5OTtcbiAgYmFja2dyb3VuZDogdmFyKC0tc2Vjb25kYXJ5KTtcbiAgY29sb3I6IHZhcigtLXdoaXRlKTtcbiAgYm9yZGVyLXJhZGl1czogNTAlO1xuICB3aWR0aDogNDJweDtcbiAgaGVpZ2h0OiA0MnB4O1xuICBsaW5lLWhlaWdodDogNDJweDtcbiAgZm9udC1zaXplOiAxLjNyZW07XG59XG5cbmlvbi1mb290ZXIge1xuICBiYWNrZ3JvdW5kOiB2YXIoLS13aGl0ZSk7XG4gIG1hcmdpbjogMCBhdXRvO1xuICB3aWR0aDogY2FsYygxMDAlIC0gMzBweCk7XG4gIG1hcmdpbi1ib3R0b206IDE1cHg7XG4gIGJvcmRlci1yYWRpdXM6IDEwcHg7XG4gIG92ZXJmbG93OiBoaWRkZW47XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgbGVmdDogMDtcbiAgcmlnaHQ6IDA7XG4gIGJvdHRvbTogMDtcbn1cbmlvbi1mb290ZXIgaW9uLWNhcmQge1xuICBtYXJnaW46IDA7XG4gIGJvcmRlci1yYWRpdXM6IDA7XG4gIGJhY2tncm91bmQ6IHZhcigtLXdoaXRlKTtcbiAgcGFkZGluZzogMHB4O1xuICBib3gtc2hhZG93OiBub25lO1xufVxuaW9uLWZvb3RlciBpb24tY2FyZCAuY2FyZF9oZWFkZXIge1xuICBiYWNrZ3JvdW5kOiB2YXIoLS1iZy1jb2xvcik7XG4gIHBhZGRpbmc6IDEwcHggMTlweDtcbn1cbmlvbi1mb290ZXIgaW9uLWNhcmQgLmNhcmRfaGVhZGVyIGgzIHtcbiAgbWFyZ2luOiAwO1xuICBjb2xvcjogdmFyKC0tdGV4dC1ibGFjayk7XG4gIGZvbnQtc2l6ZTogMXJlbTtcbiAgZm9udC13ZWlnaHQ6IDYwMDtcbn1cbmlvbi1mb290ZXIgaW9uLWNhcmQgLmNhcmRfaGVhZGVyIGgzIHNwYW4ge1xuICBjb2xvcjogdmFyKC0tdGV4dC1saWdodDIpO1xuICBmb250LXdlaWdodDogNDAwO1xuICBmb250LXNpemU6IDAuOXJlbTtcbn1cbmlvbi1mb290ZXIgaW9uLWNhcmQgLmNhcmRfaGVhZGVyIC5kaXJlY3Rpb24ge1xuICBmb250LXNpemU6IDFyZW07XG4gIGZvbnQtd2VpZ2h0OiA0MDA7XG4gIGxpbmUtaGVpZ2h0OiAzNnB4O1xuICBtaW4td2lkdGg6IGZpdC1jb250ZW50O1xuICBhbGlnbi1pdGVtczogY2VudGVyO1xuICBjb2xvcjogdmFyKC0tcHJpbWFyeSk7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGJhY2tncm91bmQ6IHZhcigtLWJnLWNvbG9yKTtcbiAgbGV0dGVyLXNwYWNpbmc6IDAuNXB4O1xufVxuaW9uLWZvb3RlciBpb24tY2FyZCAuY2FyZF9oZWFkZXIgLmRpcmVjdGlvbiBpb24taWNvbiB7XG4gIGZvbnQtc2l6ZTogMS4xcmVtO1xuICBtaW4td2lkdGg6IDIzcHg7XG59XG5pb24tZm9vdGVyIGlvbi1jYXJkIC5kZWxpdmVyeV9kZXRhaWxzIHtcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xuICBwYWRkaW5nOiAxOXB4IDE5cHg7XG59XG5pb24tZm9vdGVyIGlvbi1jYXJkIC5kZWxpdmVyeV9kZXRhaWxzIC5kb3R0ZWQge1xuICBkaXNwbGF5OiBibG9jaztcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICB0b3A6IDEzcHg7XG4gIGxlZnQ6IC04cHg7XG59XG5pb24tZm9vdGVyIGlvbi1jYXJkIC5kZWxpdmVyeV9kZXRhaWxzIC5kb3R0ZWQgc3BhbiB7XG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgbWluLXdpZHRoOiAzMHB4O1xuICBoZWlnaHQ6IDEycHg7XG4gIGRpc3BsYXk6IGJsb2NrO1xufVxuaW9uLWZvb3RlciBpb24tY2FyZCAuZGVsaXZlcnlfZGV0YWlscyAuZG90dGVkIHNwYW46OmFmdGVyIHtcbiAgY29udGVudDogXCJcIjtcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICB0b3A6IDI3cHg7XG4gIGJvdHRvbTogMDtcbiAgbGVmdDogMDtcbiAgcmlnaHQ6IDA7XG4gIGJvcmRlci1yYWRpdXM6IDUwJTtcbiAgaGVpZ2h0OiA0cHg7XG4gIHdpZHRoOiA0cHg7XG4gIGJhY2tncm91bmQ6IHZhcigtLXByaW1hcnkpO1xuICBtYXJnaW46IGF1dG87XG59XG5pb24tZm9vdGVyIGlvbi1jYXJkIC5kZWxpdmVyeV9kZXRhaWxzIC5kZWxpdmVyeV9hZGRyZXNzIHtcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xuICBhbGlnbi1pdGVtczogZmxleC1zdGFydDtcbiAgbWluLWhlaWdodDogNzVweDtcbn1cbmlvbi1mb290ZXIgaW9uLWNhcmQgLmRlbGl2ZXJ5X2RldGFpbHMgLmRlbGl2ZXJ5X2FkZHJlc3M6bGFzdC1jaGlsZCB7XG4gIG1pbi1oZWlnaHQ6IHVuc2V0O1xufVxuaW9uLWZvb3RlciBpb24tY2FyZCAuZGVsaXZlcnlfZGV0YWlscyAuZGVsaXZlcnlfYWRkcmVzcyBpb24taWNvbi56bWRpLW5hdmlnYXRpb24sIGlvbi1mb290ZXIgaW9uLWNhcmQgLmRlbGl2ZXJ5X2RldGFpbHMgLmRlbGl2ZXJ5X2FkZHJlc3MgaW9uLWljb24uem1kaS1waW4ge1xuICBjb2xvcjogdmFyKC0tcHJpbWFyeSk7XG4gIGZvbnQtc2l6ZTogMS4ycmVtO1xuICBtaW4td2lkdGg6IDMzcHg7XG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgYmFja2dyb3VuZDogdmFyKC0td2hpdGUpO1xuICBwYWRkaW5nOiAwIDFweDtcbn1cbmlvbi1mb290ZXIgaW9uLWNhcmQgLmRlbGl2ZXJ5X2RldGFpbHMgLmRlbGl2ZXJ5X2FkZHJlc3MgLnRleHRfYm94IGgyIHtcbiAgbWFyZ2luOiAwO1xuICBjb2xvcjogdmFyKC0tdGV4dC1ibGFjayk7XG4gIGZvbnQtd2VpZ2h0OiA1MDA7XG4gIGZvbnQtc2l6ZTogMC45M3JlbTtcbiAgbGV0dGVyLXNwYWNpbmc6IDAuNHB4O1xuICBwYWRkaW5nLWJvdHRvbTogNXB4O1xufVxuaW9uLWZvb3RlciBpb24tY2FyZCAuZGVsaXZlcnlfZGV0YWlscyAuZGVsaXZlcnlfYWRkcmVzcyAudGV4dF9ib3ggcCB7XG4gIG1hcmdpbjogMDtcbiAgY29sb3I6IHZhcigtLXRleHQtbGlnaHQyKTtcbiAgZm9udC1zaXplOiAwLjhyZW07XG4gIGZvbnQtd2VpZ2h0OiA0MDA7XG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgei1pbmRleDogOTk7XG59XG5pb24tZm9vdGVyIGlvbi1jYXJkIC5kZWxpdmVyeV9kZXRhaWxzIC5kZWxpdmVyeV9hZGRyZXNzIC5pb2NuX2JveCB7XG4gIG1pbi13aWR0aDogNjBweDtcbiAgd2lkdGg6IGZpdC1jb250ZW50O1xuICBtYXJnaW4tdG9wOiAxMnB4O1xufVxuaW9uLWZvb3RlciBpb24tY2FyZCAuZGVsaXZlcnlfZGV0YWlscyAuZGVsaXZlcnlfYWRkcmVzcyAuaW9jbl9ib3ggaW9uLWljb24ge1xuICBjb2xvcjogdmFyKC0tcHJpbWFyeSk7XG4gIGZvbnQtc2l6ZTogMXJlbTtcbiAgbWluLXdpZHRoOiAyNnB4O1xufVxuaW9uLWZvb3RlciBpb24tcm93IGlvbi1jb2wge1xuICBwYWRkaW5nOiAwO1xufVxuaW9uLWZvb3RlciBpb24tcm93IGlvbi1jb2wgLmJ1dHRvbi5idG4ge1xuICBmb250LXdlaWdodDogNDAwO1xuICBoZWlnaHQ6IDU4cHg7XG59XG5pb24tZm9vdGVyIGlvbi1yb3cgaW9uLWNvbCAuYnV0dG9uLmJ0bi5kYW5nZXIge1xuICAtLWJhY2tncm91bmQ6IHZhcigtLXJlZF9jb2xvcik7XG59Il19 */\";","import { Component, OnInit, OnDestroy, ViewChild, ElementRef } from '@angular/core';\nimport { NavController, AlertController } from '@ionic/angular';\nimport { Router } from '@angular/router';\nimport { OrderRequest } from 'src/models/order-request.models';\nimport { TranslateService } from '@ngx-translate/core';\nimport { ApiService } from '../services/network/api.service';\nimport { UiElementsService } from '../services/common/ui-elements.service';\nimport { Subscription } from 'rxjs';\nimport { Helper } from 'src/models/helper.models';\nimport { GoogleMapsService } from '../services/network/google-maps.service';\nimport { MyEventsService } from '../services/events/my-events.service';\nimport { InAppBrowser } from '@ionic-native/in-app-browser/ngx';\nimport * as firebase from 'firebase';\nimport { Profile } from 'src/models/profile.models';\n\n@Component({\n  selector: 'app-new-delivery',\n  templateUrl: './new-delivery.page.html',\n  styleUrls: ['./new-delivery.page.scss']\n})\nexport class NewDeliveryPage implements OnInit, OnDestroy {\n  @ViewChild(\"pleaseConnect\", { static: true }) pleaseConnect: ElementRef;\n  @ViewChild(\"map\", { static: true }) mapElement: ElementRef;\n  private subscriptions = new Array<Subscription>();\n  private initialized = false;\n  private markerMe: google.maps.Marker;\n  private profileMe: Profile;\n  order_request: OrderRequest;\n  distanceToShow = \"--\";\n  durationToShow = \"-- min\";\n  distance_metric = \"km\";\n\n  constructor(private navCtrl: NavController, private translate: TranslateService, private router: Router, private maps: GoogleMapsService, private iab: InAppBrowser,\n    private apiService: ApiService, private uiElementService: UiElementsService, private alertCtrl: AlertController, private myEvent: MyEventsService) { }\n\n  ngOnInit() {\n    let dm = Helper.getSettingValue(\"distance_metric\");\n    if (dm != null) this.distance_metric = dm.toLowerCase();\n    this.profileMe = Helper.getProfile();\n\n    if (this.router.getCurrentNavigation().extras.state) this.order_request = this.router.getCurrentNavigation().extras.state.order_request;\n  }\n\n  ngOnDestroy() {\n    for (let sub of this.subscriptions) sub.unsubscribe();\n    this.uiElementService.dismissLoading();\n  }\n\n  ionViewDidEnter() {\n    if (!this.initialized) {\n      let selectedLocation = Helper.getLocation();\n      let mapLoaded = this.maps.init(this.mapElement.nativeElement, this.pleaseConnect.nativeElement, selectedLocation).then(() => {\n        this.initialized = true;\n        this.plotMarkers(selectedLocation != null ? new google.maps.LatLng(Number(selectedLocation.latitude), Number(selectedLocation.longitude)) : null,\n          new google.maps.LatLng(Number(this.order_request.order.vendor.latitude), Number(this.order_request.order.vendor.longitude)),\n          new google.maps.LatLng(Number(this.order_request.order.address.latitude), Number(this.order_request.order.address.longitude)));\n      }).catch(err => console.log(err));\n      mapLoaded.catch(err => console.log(err));\n    }\n  }\n\n  navigateOrder() {\n    this.iab.create((\"http://maps.google.com/maps?saddr=\" + (this.order_request.order.vendor.latitude + \",\" + this.order_request.order.vendor.longitude) + \"&daddr=\" + (this.order_request.order.address.latitude + \",\" + this.order_request.order.address.longitude)), \"_system\");\n  }\n\n  plotMarkers(markerMePos: google.maps.LatLng, markerSourcePos: google.maps.LatLng, markerDestinationPos: google.maps.LatLng) {\n    const component = this;\n    if (this.initialized) {\n      if (markerMePos != null) new google.maps.Marker({ position: markerMePos, map: this.maps.map, icon: 'assets/images/marker_map_me.png' });\n      if (markerSourcePos != null) new google.maps.Marker({ position: markerSourcePos, map: this.maps.map, icon: 'assets/images/marker_map_src.png' });\n      if (markerDestinationPos != null) new google.maps.Marker({ position: markerDestinationPos, map: this.maps.map, icon: 'assets/images/marker_map_dest.png' });\n\n      let posBonds = new google.maps.LatLngBounds();\n      if (markerMePos != null) posBonds.extend(markerMePos);\n      if (markerSourcePos != null) posBonds.extend(markerSourcePos);\n      if (markerDestinationPos != null) posBonds.extend(markerDestinationPos);\n\n      if (!posBonds.isEmpty()) setTimeout(() => this.maps.map.panTo(posBonds.getCenter()), 200);\n\n      let directionsService = new google.maps.DirectionsService();\n      let directionsDisplay = new google.maps.DirectionsRenderer({\n        map: this.maps.map,\n        polylineOptions: {\n          strokeColor: '#279411',\n          strokeOpacity: 1.0,\n          strokeWeight: 5\n        },\n        markerOptions: {\n          opacity: 0,\n          clickable: false,\n          position: markerSourcePos\n        }\n      });\n      let dirReq: any = {\n        origin: markerSourcePos,\n        destination: markerDestinationPos,\n        travelMode: google.maps.TravelMode.DRIVING\n      };\n      directionsService.route(dirReq, function (result, status) {\n        if (status == google.maps.DirectionsStatus.OK) {\n          directionsDisplay.setDirections(result);\n          component.computeTotalDistance(result);\n        }\n      });\n\n    }\n  }\n\n  confirmUpdate(status) {\n    let keyTitle = status == \"accepted\" ? \"confirm_accept_title\" : \"confirm_reject_title\";\n    let keyMessage = status == \"accepted\" ? \"confirm_accept_message\" : \"confirm_reject_message\";\n    this.translate.get([keyTitle, keyMessage, \"yes\", \"no\"]).subscribe(values => {\n      this.alertCtrl.create({\n        header: values[keyTitle],\n        message: values[keyMessage],\n        buttons: [{\n          text: values[\"no\"],\n          handler: () => { }\n        }, {\n          text: values[\"yes\"],\n          handler: () => {\n            this.updateRequest(status);\n          }\n        }]\n      }).then(alert => alert.present());\n    });\n  }\n\n  updateRequest(status) {\n    this.translate.get([\"updating\", \"something_wrong\"]).subscribe(values => {\n      this.uiElementService.presentLoading(values[\"updating\"]);\n      firebase.database().ref(\"deliveries\").child(String(this.order_request.delivery.id)).child(\"order-request\").child(\"status\").set(status);\n      this.subscriptions.push(this.apiService.updateOrderRequest({ status: status }, this.order_request.id).subscribe(res => {\n\n        this.apiService.updateProfile({ is_online: 1 }, this.profileMe.id).subscribe(res => {\n          this.uiElementService.dismissLoading();\n          this.navCtrl.pop();\n          this.myEvent.setProfileData(res);\n        }, err => {\n          console.log(\"updateOrder\", err);\n          this.uiElementService.presentToast(values[\"something_wrong\"]);\n          this.uiElementService.dismissLoading();\n          this.navCtrl.pop();\n        });\n\n      }, err => {\n        console.log(\"updateOrder\", err);\n        this.uiElementService.presentToast(values[\"something_wrong\"]);\n        this.uiElementService.dismissLoading();\n        this.navCtrl.pop();\n      }));\n    });\n  }\n\n  computeTotalDistance(result: google.maps.DirectionsResult) {\n    let totalDistance = 0, totalDuration = 0;\n    const myroute = result.routes[0];\n    for (let i = 0; i < myroute.legs.length; i++) {\n      totalDistance += myroute.legs[i].distance.value;\n      totalDuration += myroute.legs[i].duration.value;\n    }\n    Helper.setOrderDistanceDuration(this.order_request.order.id, { distance: totalDistance, duration: totalDuration });\n    this.distanceToShow = Helper.formatDistance(totalDistance, this.distance_metric);\n    this.durationToShow = Helper.formatDuration(totalDuration);\n\n    let refOrderStat = firebase.database().ref().child(\"deliveries\").child(String(this.profileMe.id)).child(\"order_stats\").child(String(this.order_request.order.id));\n    refOrderStat.set({ distance: totalDistance, duration: totalDuration });\n  }\n\n}\n"]}
{"version":3,"sources":["webpack:///src/app/delivered-succesfully/delivered-succesfully.page.html","webpack:///src/app/delivered-succesfully/delivered-succesfully-routing.module.ts","webpack:///src/app/delivered-succesfully/delivered-succesfully.module.ts","webpack:///src/app/delivered-succesfully/delivered-succesfully.page.scss","webpack:///src/app/delivered-succesfully/delivered-succesfully.page.ts"],"names":["routes","path","component","DeliveredSuccesfullyPageRoutingModule","imports","forChild","exports","DeliveredSuccesfullyPageModule","declarations","DeliveredSuccesfullyPage","navCtrl","route","distanceToShow","durationToShow","distance_metric","dm","getSettingValue","toLowerCase","queryParams","subscribe","params","order_id","delivery_fee","getOrderDistanceDuration","Number","formatDistance","distance","formatDuration","duration","refDeliveryStat","ref","child","String","getProfile","id","once","then","snapshot","deliveryStat","val","set","window","localStorage","setItem","navigateRoot","selector","template"],"mappings":"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","file":"delivered-succesfully-delivered-succesfully-module-es5.js","sourcesContent":["export default \"<!--\\n<ion-header>\\n  <ion-toolbar>\\n    <ion-title>delivered-succesfully</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n-->\\n\\n<ion-content>\\n\\t<div class=\\\"container\\\">\\n\\t\\t<div class=\\\"img_box\\\">\\n\\t\\t\\t<img src=\\\"assets/images/delivery_completed.png\\\">\\n\\t\\t</div>\\n\\t\\t<h1 class=\\\"ion-text-center\\\">\\n\\t\\t\\t{{'delivered_successfully' | translate}}<br>\\n\\t\\t\\t<small> {{'thank_you_for_delivery_safely_on_time' | translate}}</small>\\n\\t\\t</h1>\\n\\t\\t<div class=\\\"order_info\\\">\\n\\t\\t\\t<ion-row>\\n\\t\\t\\t\\t<ion-col size=\\\"7\\\">\\n\\t\\t\\t\\t\\t<h2>{{'your_drived' | translate}}</h2>\\n\\t\\t\\t\\t\\t<h3>{{distanceToShow}} {{distance_metric | translate}} ({{durationToShow}})</h3>\\n\\t\\t\\t\\t\\t<!-- <h4 (click)=\\\"order_info()\\\">{{'view_order_info' | translate}}</h4> -->\\n\\t\\t\\t\\t</ion-col>\\n\\t\\t\\t\\t<ion-col size=\\\"5\\\">\\n\\t\\t\\t\\t\\t<h2>{{'your_earning' | translate}}</h2>\\n\\t\\t\\t\\t\\t<h3>{{delivery_fee}}</h3>\\n\\t\\t\\t\\t\\t<!-- <h4 (click)=\\\"view_earnings()\\\">{{'view_earnings' | translate}}</h4> -->\\n\\t\\t\\t\\t</ion-col>\\n\\t\\t\\t</ion-row>\\n\\t\\t</div>\\n\\t</div>\\n</ion-content>\\n<ion-footer class=\\\"ion-no-border\\\">\\n\\t<ion-button size=\\\"large\\\" shape=\\\"full\\\" class=\\\"btn\\\" (click)=\\\"goHome()\\\">\\n\\t\\t{{'back_to_home' | translate}}\\n\\t</ion-button>\\n</ion-footer>\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { DeliveredSuccesfullyPage } from './delivered-succesfully.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: DeliveredSuccesfullyPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class DeliveredSuccesfullyPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { TranslateModule } from '@ngx-translate/core';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { DeliveredSuccesfullyPageRoutingModule } from './delivered-succesfully-routing.module';\n\nimport { DeliveredSuccesfullyPage } from './delivered-succesfully.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n\tTranslateModule,   \n    DeliveredSuccesfullyPageRoutingModule\n  ],\n  declarations: [DeliveredSuccesfullyPage]\n})\nexport class DeliveredSuccesfullyPageModule {}\n","export default \".container {\\n  width: calc(100% - 40px);\\n  margin: 0 auto;\\n}\\n.container .img_box {\\n  width: 100%;\\n  margin: 0 auto;\\n  margin-top: 44%;\\n  max-width: 310px;\\n}\\n.container h1 {\\n  color: var(--text-black);\\n  margin: 0;\\n  font-size: 1.3rem;\\n  font-weight: 600;\\n}\\n.container h1 small {\\n  display: block;\\n  font-weight: 400;\\n  font-size: 1rem;\\n  padding-top: 4px;\\n}\\n.container .order_info {\\n  padding: 0 10px;\\n  padding-top: 30%;\\n}\\n.container .order_info ion-row {\\n  margin: 0 -5px;\\n}\\n.container .order_info ion-row h2 {\\n  margin: 0;\\n  color: var(--text-light);\\n  font-size: 0.9rem;\\n  font-weight: 400;\\n  padding-bottom: 5px;\\n}\\n.container .order_info ion-row h3 {\\n  margin: 0;\\n  color: var(--text-black);\\n  font-size: 1.1rem;\\n  font-weight: 600;\\n  padding-bottom: 5px;\\n}\\n.container .order_info ion-row h4 {\\n  margin: 0;\\n  color: var(--primary);\\n  font-weight: 400;\\n  font-size: 1.1rem;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvZGVsaXZlcmVkLXN1Y2Nlc2Z1bGx5L0Y6XFxmaXZlclxcQmVybmFyZFxcQWdvY2FycnlcXGFnb2NhcnJ5LWRlbGl2ZXJ5L3NyY1xcYXBwXFxkZWxpdmVyZWQtc3VjY2VzZnVsbHlcXGRlbGl2ZXJlZC1zdWNjZXNmdWxseS5wYWdlLnNjc3MiLCJzcmMvYXBwL2RlbGl2ZXJlZC1zdWNjZXNmdWxseS9kZWxpdmVyZWQtc3VjY2VzZnVsbHkucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0ksd0JBQUE7RUFDQSxjQUFBO0FDQ0o7QURDSTtFQUNJLFdBQUE7RUFDQSxjQUFBO0VBQ0EsZUFBQTtFQUNBLGdCQUFBO0FDQ1I7QURFSTtFQUNJLHdCQUFBO0VBQ0EsU0FBQTtFQUNBLGlCQUFBO0VBQ0EsZ0JBQUE7QUNBUjtBREVRO0VBQ0ksY0FBQTtFQUNBLGdCQUFBO0VBQ0EsZUFBQTtFQUNBLGdCQUFBO0FDQVo7QURJSTtFQUNJLGVBQUE7RUFDQSxnQkFBQTtBQ0ZSO0FESVE7RUFDSSxjQUFBO0FDRlo7QURJWTtFQUNJLFNBQUE7RUFDQSx3QkFBQTtFQUNBLGlCQUFBO0VBQ0EsZ0JBQUE7RUFDQSxtQkFBQTtBQ0ZoQjtBREtZO0VBQ0ksU0FBQTtFQUNBLHdCQUFBO0VBQ0EsaUJBQUE7RUFDQSxnQkFBQTtFQUNBLG1CQUFBO0FDSGhCO0FETVk7RUFDSSxTQUFBO0VBQ0EscUJBQUE7RUFDQSxnQkFBQTtFQUNBLGlCQUFBO0FDSmhCIiwiZmlsZSI6InNyYy9hcHAvZGVsaXZlcmVkLXN1Y2Nlc2Z1bGx5L2RlbGl2ZXJlZC1zdWNjZXNmdWxseS5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuY29udGFpbmVyIHtcbiAgICB3aWR0aDogY2FsYygxMDAlIC0gNDBweCk7XG4gICAgbWFyZ2luOiAwIGF1dG87XG5cbiAgICAuaW1nX2JveCB7XG4gICAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgICBtYXJnaW46IDAgYXV0bztcbiAgICAgICAgbWFyZ2luLXRvcDogNDQlO1xuICAgICAgICBtYXgtd2lkdGg6IDMxMHB4O1xuICAgIH1cblxuICAgIGgxIHtcbiAgICAgICAgY29sb3I6IHZhcigtLXRleHQtYmxhY2spO1xuICAgICAgICBtYXJnaW46IDA7XG4gICAgICAgIGZvbnQtc2l6ZTogMS4zcmVtO1xuICAgICAgICBmb250LXdlaWdodDogNjAwO1xuXG4gICAgICAgIHNtYWxsIHtcbiAgICAgICAgICAgIGRpc3BsYXk6IGJsb2NrO1xuICAgICAgICAgICAgZm9udC13ZWlnaHQ6IDQwMDtcbiAgICAgICAgICAgIGZvbnQtc2l6ZTogMXJlbTtcbiAgICAgICAgICAgIHBhZGRpbmctdG9wOiA0cHg7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAub3JkZXJfaW5mbyB7XG4gICAgICAgIHBhZGRpbmc6IDAgMTBweDtcbiAgICAgICAgcGFkZGluZy10b3A6IDMwJTtcblxuICAgICAgICBpb24tcm93IHtcbiAgICAgICAgICAgIG1hcmdpbjogMCAtNXB4O1xuXG4gICAgICAgICAgICBoMiB7XG4gICAgICAgICAgICAgICAgbWFyZ2luOiAwO1xuICAgICAgICAgICAgICAgIGNvbG9yOiB2YXIoLS10ZXh0LWxpZ2h0KTtcbiAgICAgICAgICAgICAgICBmb250LXNpemU6IDAuOXJlbTtcbiAgICAgICAgICAgICAgICBmb250LXdlaWdodDogNDAwO1xuICAgICAgICAgICAgICAgIHBhZGRpbmctYm90dG9tOiA1cHg7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGgzIHtcbiAgICAgICAgICAgICAgICBtYXJnaW46IDA7XG4gICAgICAgICAgICAgICAgY29sb3I6IHZhcigtLXRleHQtYmxhY2spO1xuICAgICAgICAgICAgICAgIGZvbnQtc2l6ZTogMS4xcmVtO1xuICAgICAgICAgICAgICAgIGZvbnQtd2VpZ2h0OiA2MDA7XG4gICAgICAgICAgICAgICAgcGFkZGluZy1ib3R0b206IDVweDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaDQge1xuICAgICAgICAgICAgICAgIG1hcmdpbjogMDtcbiAgICAgICAgICAgICAgICBjb2xvcjogdmFyKC0tcHJpbWFyeSk7XG4gICAgICAgICAgICAgICAgZm9udC13ZWlnaHQ6IDQwMDtcbiAgICAgICAgICAgICAgICBmb250LXNpemU6IDEuMXJlbTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cbiIsIi5jb250YWluZXIge1xuICB3aWR0aDogY2FsYygxMDAlIC0gNDBweCk7XG4gIG1hcmdpbjogMCBhdXRvO1xufVxuLmNvbnRhaW5lciAuaW1nX2JveCB7XG4gIHdpZHRoOiAxMDAlO1xuICBtYXJnaW46IDAgYXV0bztcbiAgbWFyZ2luLXRvcDogNDQlO1xuICBtYXgtd2lkdGg6IDMxMHB4O1xufVxuLmNvbnRhaW5lciBoMSB7XG4gIGNvbG9yOiB2YXIoLS10ZXh0LWJsYWNrKTtcbiAgbWFyZ2luOiAwO1xuICBmb250LXNpemU6IDEuM3JlbTtcbiAgZm9udC13ZWlnaHQ6IDYwMDtcbn1cbi5jb250YWluZXIgaDEgc21hbGwge1xuICBkaXNwbGF5OiBibG9jaztcbiAgZm9udC13ZWlnaHQ6IDQwMDtcbiAgZm9udC1zaXplOiAxcmVtO1xuICBwYWRkaW5nLXRvcDogNHB4O1xufVxuLmNvbnRhaW5lciAub3JkZXJfaW5mbyB7XG4gIHBhZGRpbmc6IDAgMTBweDtcbiAgcGFkZGluZy10b3A6IDMwJTtcbn1cbi5jb250YWluZXIgLm9yZGVyX2luZm8gaW9uLXJvdyB7XG4gIG1hcmdpbjogMCAtNXB4O1xufVxuLmNvbnRhaW5lciAub3JkZXJfaW5mbyBpb24tcm93IGgyIHtcbiAgbWFyZ2luOiAwO1xuICBjb2xvcjogdmFyKC0tdGV4dC1saWdodCk7XG4gIGZvbnQtc2l6ZTogMC45cmVtO1xuICBmb250LXdlaWdodDogNDAwO1xuICBwYWRkaW5nLWJvdHRvbTogNXB4O1xufVxuLmNvbnRhaW5lciAub3JkZXJfaW5mbyBpb24tcm93IGgzIHtcbiAgbWFyZ2luOiAwO1xuICBjb2xvcjogdmFyKC0tdGV4dC1ibGFjayk7XG4gIGZvbnQtc2l6ZTogMS4xcmVtO1xuICBmb250LXdlaWdodDogNjAwO1xuICBwYWRkaW5nLWJvdHRvbTogNXB4O1xufVxuLmNvbnRhaW5lciAub3JkZXJfaW5mbyBpb24tcm93IGg0IHtcbiAgbWFyZ2luOiAwO1xuICBjb2xvcjogdmFyKC0tcHJpbWFyeSk7XG4gIGZvbnQtd2VpZ2h0OiA0MDA7XG4gIGZvbnQtc2l6ZTogMS4xcmVtO1xufSJdfQ== */\";","import { Component, OnInit } from '@angular/core';\nimport { NavController } from '@ionic/angular';\nimport { ActivatedRoute } from '@angular/router';\nimport { Helper } from 'src/models/helper.models';\nimport * as firebase from 'firebase';\n\n@Component({\n  selector: 'app-delivered-succesfully',\n  templateUrl: './delivered-succesfully.page.html',\n  styleUrls: ['./delivered-succesfully.page.scss']\n})\nexport class DeliveredSuccesfullyPage implements OnInit {\n  delivery_fee: string;\n  distanceToShow = \"--\";\n  durationToShow = \"-- min\";\n  distance_metric = \"km\";\n\n  constructor(private navCtrl: NavController, private route: ActivatedRoute) { }\n\n  ngOnInit() {\n    let dm = Helper.getSettingValue(\"distance_metric\");\n    if (dm != null) this.distance_metric = dm.toLowerCase();\n\n    this.route.queryParams.subscribe(params => {\n      let order_id = params[\"order_id\"];\n      this.delivery_fee = params[\"delivery_fee\"];\n\n      const dm = Helper.getOrderDistanceDuration(Number(order_id));\n      if (dm != null) {\n        this.distanceToShow = Helper.formatDistance(dm.distance, this.distance_metric);\n        this.durationToShow = Helper.formatDuration(dm.duration);\n\n        //let refDeliveryStat = firebase.database().ref().child(\"deliveries\").child(String(Helper.getProfile().id)).child(\"delivery_stat\");\n        //refOrderStat.set({ distance: totalDistance, duration: totalDuration });\n\n        const refDeliveryStat = firebase.database().ref().child(\"deliveries\").child(String(Helper.getProfile().id)).child(\"delivery_stat\");\n        refDeliveryStat.once('value').then(function (snapshot) {\n          let deliveryStat: { distance: number, duration: number } = snapshot.val();\n          refDeliveryStat.set({ distance: deliveryStat ? deliveryStat.distance + dm.distance : dm.distance, duration: deliveryStat ? deliveryStat.duration + dm.duration : dm.duration });\n        });\n      }\n    });\n  }\n\n  goHome() {\n    window.localStorage.setItem(\"recheck\", \"true\");\n    this.navCtrl.navigateRoot(['./home']);\n  }\n  order_info() {\n    //this.route.navigate(['./order-history']);\n  }\n  view_earnings() {\n    //this.navCtrl.navigateRoot(['./wallet']);\n  }\n}\n"]}
{"version":3,"sources":["webpack:///src/app/insight/insight.page.html","webpack:///src/app/insight/insight-routing.module.ts","webpack:///src/app/insight/insight.module.ts","webpack:///src/app/insight/insight.page.scss","webpack:///src/app/insight/insight.page.ts","webpack:///src/models/insight-earning.models.ts"],"names":["routes","path","component","InsightPageRoutingModule","imports","forChild","exports","InsightPageModule","declarations","InsightPage","navCtrl","translate","uiElementService","apiService","subscriptions","Array","duration","distance_metric","deliveryStats","values","getSettingsValue","currency_icon","toLowerCase","setupDefaultInsightsEarning","setupDefaultInsightsOrder","loadInsight","refDeliveryStatAll","ref","child","String","getProfile","id","once","then","snapshot","data","val","prop","Object","prototype","hasOwnProperty","call","push","reFilterTravelledStat","sub","unsubscribe","dismissLoading","totalDistance","insightsOrder","orders_count","limit","length","i","distance","distance_travelled","Number","formatDistance","orders_chart_data","maxEarning","breaker","priceRangeOrder","toFixed","chartDataParsedOrder","cd","date","percent","total","price","insightsEarning","earnings_chart_data","priceRangeEarning","chartDataParsedEarning","loadInsightEarnings","loadInsightOrders","get","subscribe","value","presentToast","insightRequest","getInsightRequest","getInsightEarning","res","total_earnings","getPeriodText","period","err","console","log","getInsightOrder","navigateRoot","toReturn","ir","months","days","includes","format","index","instant","selector","template","EarningInsight"],"mappings":"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","file":"insight-insight-module-es5.js","sourcesContent":["export default \"<ion-header>\\n    <ion-toolbar>\\n        <ion-buttons slot=\\\"start\\\">\\n            <ion-menu-button></ion-menu-button>\\n        </ion-buttons>\\n        <ion-title>\\n            <div class=\\\"title_inner d-flex\\\">\\n                <span> {{'insight' | translate}}</span>\\n                <ion-select class=\\\"end\\\" interface=\\\"popover\\\" [(ngModel)]=\\\"duration\\\" (ionChange)=\\\"loadInsight()\\\">\\n                    <ion-select-option value=\\\"today\\\">{{'today' | translate}}</ion-select-option>\\n                    <ion-select-option value=\\\"week\\\">{{'this_week' | translate}}</ion-select-option>\\n                    <ion-select-option value=\\\"month\\\">{{'this_month' | translate}} </ion-select-option>\\n                    <ion-select-option value=\\\"year\\\">{{'this_year' | translate}}</ion-select-option>\\n                </ion-select>\\n            </div>\\n        </ion-title>\\n    </ion-toolbar>\\n</ion-header>\\n\\n<ion-content class=\\\"bg_color\\\">\\n    <div class=\\\"all_delivery\\\">\\n        <ion-row class=\\\"ion-text-center\\\">\\n            <ion-col size=\\\"4\\\">\\n                <h2>{{insightsOrder.orders_count}}</h2>\\n                <h3>{{'orders' | translate}}</h3>\\n            </ion-col>\\n            <ion-col size=\\\"4\\\">\\n                <h2>{{insightsOrder.distance_travelled}} {{distance_metric | translate}}</h2>\\n                <h3>{{'ride' | translate}}</h3>\\n            </ion-col>\\n            <ion-col size=\\\"4\\\">\\n                <h2>{{currency_icon}}{{insightsOrder.earnings}}</h2>\\n                <h3>{{'earnings' | translate}}</h3>\\n            </ion-col>\\n        </ion-row>\\n    </div>\\n    <ion-card>\\n        <div class=\\\"card_containt\\\">\\n            <h1>{{'earnings' | translate}}</h1>\\n            <div class=\\\"graph_container d-flex\\\">\\n                <div class=\\\"text_container\\\">\\n                    <p *ngFor=\\\"let pr of priceRangeEarning\\\" class=\\\"ion-text-end\\\"><span>{{pr}}</span></p>\\n                </div>\\n                <div class=\\\"graph end\\\">\\n                    <div *ngFor=\\\"let cd of chartDataParsedEarning\\\" class=\\\"bar_box\\\">\\n                        <h4>{{cd.date}}</h4>\\n                        <div class=\\\"bar\\\" [style.height]=\\\"cd.percent+'%'\\\">\\n                            <h5>{{cd.price}}</h5>\\n                        </div>\\n                    </div>\\n                </div>\\n            </div>\\n            <h3 class=\\\"ion-text-center\\\" (click)=\\\"navTransactions()\\\">\\n                {{'view_all_transactions' | translate}}\\n            </h3>\\n        </div>\\n    </ion-card>\\n\\n    <ion-card>\\n        <div class=\\\"card_containt\\\">\\n            <h1>{{'orders' | translate}}</h1>\\n            <div class=\\\"graph_container d-flex\\\">\\n                <div class=\\\"text_container\\\">\\n                    <p *ngFor=\\\"let pr of priceRangeOrder\\\" class=\\\"ion-text-end\\\"><span>{{pr}}</span></p>\\n                </div>\\n                <div class=\\\"graph end\\\">\\n                    <div *ngFor=\\\"let cd of chartDataParsedOrder\\\" class=\\\"bar_box\\\">\\n                        <h4>{{cd.date}}</h4>\\n                        <div class=\\\"bar\\\" [style.height]=\\\"cd.percent+'%'\\\">\\n                            <h5>{{cd.price}}</h5>\\n                        </div>\\n                    </div>\\n                </div>\\n            </div>\\n            <!-- <h3 class=\\\"ion-text-center\\\">{{'view_all_orders' | translate}}</h3> -->\\n        </div>\\n    </ion-card>\\n</ion-content>\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { InsightPage } from './insight.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: InsightPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class InsightPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { TranslateModule } from '@ngx-translate/core';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { InsightPageRoutingModule } from './insight-routing.module';\n\nimport { InsightPage } from './insight.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    TranslateModule, \t  \n    InsightPageRoutingModule\n  ], \n  declarations: [InsightPage]\n})\nexport class InsightPageModule {}\n","export default \"ion-header ion-toolbar ion-title .title_inner {\\n  position: relative;\\n}\\nion-header ion-toolbar ion-title .title_inner span {\\n  position: absolute;\\n  left: 0;\\n  right: 0;\\n  margin: auto;\\n  width: -webkit-fit-content;\\n  width: -moz-fit-content;\\n  width: fit-content;\\n}\\nion-header ion-select {\\n  padding: 0;\\n  width: -webkit-fit-content;\\n  width: -moz-fit-content;\\n  width: fit-content;\\n  display: flex;\\n  align-items: center;\\n  text-transform: uppercase;\\n  font-weight: 500;\\n  letter-spacing: 1.5px;\\n  font-size: 1rem;\\n  line-height: 50px;\\n  color: var(--primary);\\n}\\n.all_delivery {\\n  background: var(--white);\\n  padding: 14px 0px;\\n  margin: 8px 0;\\n}\\n.all_delivery ion-row ion-col h2 {\\n  margin: 0;\\n  font-size: 1.2rem;\\n  font-weight: 600;\\n}\\n.all_delivery ion-row ion-col h3 {\\n  margin: 0;\\n  color: var(--text-light);\\n  font-size: 0.95rem;\\n  font-weight: 500;\\n  padding-top: 5px;\\n}\\nion-card {\\n  border-radius: 0px;\\n  width: calc(100% - 0px);\\n  margin: 0 auto;\\n  background: var(--white);\\n  margin-bottom: 15px;\\n  box-shadow: none;\\n  padding: 17px 16px;\\n}\\nion-card h1 {\\n  margin: 0;\\n  color: var(--text-black);\\n  text-transform: uppercase;\\n  font-size: 1.1rem;\\n  font-weight: 600;\\n  letter-spacing: 1px;\\n  padding-bottom: 20px;\\n}\\nion-card .card_containt h3 {\\n  margin: 0;\\n  color: var(--primary);\\n  font-size: 0.9rem;\\n  text-transform: uppercase;\\n  padding-top: 14px;\\n  padding-bottom: 5px;\\n  letter-spacing: 1px;\\n}\\nion-card .graph_container {\\n  position: relative;\\n  overflow: hidden;\\n  min-height: 220px;\\n  padding-bottom: 30px;\\n}\\nion-card .graph_container .text_container {\\n  position: absolute;\\n  bottom: -22px;\\n  left: 0;\\n  width: 100%;\\n  height: 100%;\\n}\\nion-card .graph_container .text_container p {\\n  position: relative;\\n  width: 100%;\\n  margin: 0;\\n  padding-bottom: 18px;\\n  color: var(--text-black);\\n}\\nion-card .graph_container .text_container p span {\\n  display: block;\\n  color: var(--text-black);\\n  width: -webkit-fit-content;\\n  width: -moz-fit-content;\\n  width: fit-content;\\n  font-size: 0.8rem;\\n  font-weight: 500;\\n  min-width: 40px;\\n  text-align: right;\\n  z-index: 999;\\n  position: relative;\\n}\\nion-card .graph_container .text_container p::before {\\n  content: \\\"\\\";\\n  position: absolute;\\n  top: -4px;\\n  bottom: 0;\\n  right: 0;\\n  margin: 0 auto;\\n  width: calc(100% - 0px);\\n  height: 1px;\\n  background: #ccc;\\n  opacity: 0.7;\\n}\\nion-card .graph_container .graph {\\n  position: absolute;\\n  bottom: 0px;\\n  right: 0;\\n  width: calc(100% - 40px);\\n  height: calc(100% - 16px);\\n  display: flex;\\n  align-items: flex-end;\\n  z-index: 9999;\\n  overflow-x: scroll;\\n  white-space: nowrap;\\n  padding-bottom: 8px;\\n}\\nion-card .graph_container .graph .bar_box {\\n  display: inline-block;\\n  position: relative;\\n  height: calc(100% - 11px);\\n  margin: 0 5px;\\n  width: 30px;\\n  min-width: 30px;\\n  overflow: visible !important;\\n}\\nion-card .graph_container .graph .bar_box h4 {\\n  color: var(--text-black);\\n  font-size: 0.8rem;\\n  font-weight: 500;\\n  text-align: center;\\n  margin: 0;\\n  position: absolute;\\n  bottom: 0;\\n  left: 0;\\n  width: 100%;\\n}\\nion-card .graph_container .graph .bar_box .bar {\\n  position: absolute;\\n  bottom: 8px;\\n  left: 0;\\n  right: 0;\\n  margin: 0 auto;\\n  z-index: 999;\\n  width: 100%;\\n  max-height: calc(100% - 1px);\\n  transition: all 0.3s;\\n}\\nion-card .graph_container .graph .bar_box .bar h5 {\\n  position: absolute;\\n  top: -3px;\\n  right: 0;\\n  left: 0;\\n  z-index: 99;\\n  color: var(--text-black);\\n  font-size: 0.55rem;\\n  font-weight: 500;\\n  text-align: center;\\n  width: -webkit-fit-content;\\n  width: -moz-fit-content;\\n  width: fit-content;\\n  margin: 0 auto;\\n}\\nion-card .graph_container .graph .bar_box .bar::before {\\n  content: \\\"\\\";\\n  position: absolute;\\n  top: 11px;\\n  left: 0;\\n  right: 0;\\n  width: 100%;\\n  height: calc(100% - 25px);\\n  margin: auto;\\n  background: linear-gradient(to bottom, #0fc1a7 35%, rgba(255, 255, 255, 0.89) 100%);\\n}\\nion-card .graph_container .graph .bar_box:first-child {\\n  margin-left: 15px;\\n}\\nion-card .graph_container .graph .bar_box:last-child {\\n  margin-right: 15px;\\n}\\nion-card .graph_container .graph .bar_box.bg_white .bar::before {\\n  background: linear-gradient(to bottom, #ffc000 35%, rgba(255, 255, 255, 0.89) 100%);\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvaW5zaWdodC9GOlxcZml2ZXJcXEJlcm5hcmRcXEFnb2NhcnJ5XFxhZ29jYXJyeS1kZWxpdmVyeS9zcmNcXGFwcFxcaW5zaWdodFxcaW5zaWdodC5wYWdlLnNjc3MiLCJzcmMvYXBwL2luc2lnaHQvaW5zaWdodC5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBRVE7RUFDSSxrQkFBQTtBQ0RaO0FER1k7RUFDSSxrQkFBQTtFQUNBLE9BQUE7RUFDQSxRQUFBO0VBQ0EsWUFBQTtFQUNBLDBCQUFBO0VBQUEsdUJBQUE7RUFBQSxrQkFBQTtBQ0RoQjtBRE1JO0VBQ0ksVUFBQTtFQUNBLDBCQUFBO0VBQUEsdUJBQUE7RUFBQSxrQkFBQTtFQUNBLGFBQUE7RUFDQSxtQkFBQTtFQUNBLHlCQUFBO0VBQ0EsZ0JBQUE7RUFDQSxxQkFBQTtFQUNBLGVBQUE7RUFDQSxpQkFBQTtFQUNBLHFCQUFBO0FDSlI7QURRQTtFQUNJLHdCQUFBO0VBQ0EsaUJBQUE7RUFDQSxhQUFBO0FDTEo7QURTWTtFQUNJLFNBQUE7RUFDQSxpQkFBQTtFQUNBLGdCQUFBO0FDUGhCO0FEVVk7RUFDSSxTQUFBO0VBQ0Esd0JBQUE7RUFDQSxrQkFBQTtFQUNBLGdCQUFBO0VBQ0EsZ0JBQUE7QUNSaEI7QURjQTtFQUNJLGtCQUFBO0VBQ0EsdUJBQUE7RUFDQSxjQUFBO0VBQ0Esd0JBQUE7RUFDQSxtQkFBQTtFQUNBLGdCQUFBO0VBQ0Esa0JBQUE7QUNYSjtBRGFJO0VBQ0ksU0FBQTtFQUNBLHdCQUFBO0VBQ0EseUJBQUE7RUFDQSxpQkFBQTtFQUNBLGdCQUFBO0VBQ0EsbUJBQUE7RUFDQSxvQkFBQTtBQ1hSO0FEZVE7RUFDSSxTQUFBO0VBQ0EscUJBQUE7RUFDQSxpQkFBQTtFQUNBLHlCQUFBO0VBQ0EsaUJBQUE7RUFDQSxtQkFBQTtFQUNBLG1CQUFBO0FDYlo7QURpQkk7RUFDSSxrQkFBQTtFQUNBLGdCQUFBO0VBQ0EsaUJBQUE7RUFDQSxvQkFBQTtBQ2ZSO0FEaUJRO0VBQ0ksa0JBQUE7RUFDQSxhQUFBO0VBQ0EsT0FBQTtFQUNBLFdBQUE7RUFDQSxZQUFBO0FDZlo7QURpQlk7RUFDSSxrQkFBQTtFQUNBLFdBQUE7RUFDQSxTQUFBO0VBQ0Esb0JBQUE7RUFDQSx3QkFBQTtBQ2ZoQjtBRGlCZ0I7RUFDSSxjQUFBO0VBQ0Esd0JBQUE7RUFDQSwwQkFBQTtFQUFBLHVCQUFBO0VBQUEsa0JBQUE7RUFDQSxpQkFBQTtFQUNBLGdCQUFBO0VBQ0EsZUFBQTtFQUNBLGlCQUFBO0VBQ0EsWUFBQTtFQUNBLGtCQUFBO0FDZnBCO0FEa0JnQjtFQUNJLFdBQUE7RUFDQSxrQkFBQTtFQUNBLFNBQUE7RUFDQSxTQUFBO0VBQ0EsUUFBQTtFQUNBLGNBQUE7RUFDQSx1QkFBQTtFQUNBLFdBQUE7RUFDQSxnQkFBQTtFQUNBLFlBQUE7QUNoQnBCO0FEcUJRO0VBQ0ksa0JBQUE7RUFDQSxXQUFBO0VBQ0EsUUFBQTtFQUNBLHdCQUFBO0VBQ0EseUJBQUE7RUFDQSxhQUFBO0VBQ0EscUJBQUE7RUFDQSxhQUFBO0VBQ0Esa0JBQUE7RUFDQSxtQkFBQTtFQUNBLG1CQUFBO0FDbkJaO0FEcUJZO0VBQ0kscUJBQUE7RUFDQSxrQkFBQTtFQUNBLHlCQUFBO0VBQ0EsYUFBQTtFQUNBLFdBQUE7RUFDQSxlQUFBO0VBQ0EsNEJBQUE7QUNuQmhCO0FEcUJnQjtFQUNJLHdCQUFBO0VBQ0EsaUJBQUE7RUFDQSxnQkFBQTtFQUNBLGtCQUFBO0VBQ0EsU0FBQTtFQUNBLGtCQUFBO0VBQ0EsU0FBQTtFQUNBLE9BQUE7RUFDQSxXQUFBO0FDbkJwQjtBRHNCZ0I7RUFDSSxrQkFBQTtFQUNBLFdBQUE7RUFDQSxPQUFBO0VBQ0EsUUFBQTtFQUNBLGNBQUE7RUFDQSxZQUFBO0VBQ0EsV0FBQTtFQUNBLDRCQUFBO0VBQ0Esb0JBQUE7QUNwQnBCO0FEdUJvQjtFQUNJLGtCQUFBO0VBQ0EsU0FBQTtFQUNBLFFBQUE7RUFDQSxPQUFBO0VBQ0EsV0FBQTtFQUNBLHdCQUFBO0VBQ0Esa0JBQUE7RUFDQSxnQkFBQTtFQUNBLGtCQUFBO0VBQ0EsMEJBQUE7RUFBQSx1QkFBQTtFQUFBLGtCQUFBO0VBQ0EsY0FBQTtBQ3JCeEI7QUR3Qm9CO0VBQ0ksV0FBQTtFQUNBLGtCQUFBO0VBQ0EsU0FBQTtFQUNBLE9BQUE7RUFDQSxRQUFBO0VBQ0EsV0FBQTtFQUNBLHlCQUFBO0VBQ0EsWUFBQTtFQUNBLG1GQUFBO0FDdEJ4QjtBRDJCZ0I7RUFDSSxpQkFBQTtBQ3pCcEI7QUQ2QmdCO0VBQ0ksa0JBQUE7QUMzQnBCO0FEK0JvQjtFQUNJLG1GQUFBO0FDN0J4QiIsImZpbGUiOiJzcmMvYXBwL2luc2lnaHQvaW5zaWdodC5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJpb24taGVhZGVyIHtcbiAgICBpb24tdG9vbGJhciBpb24tdGl0bGUge1xuICAgICAgICAudGl0bGVfaW5uZXIge1xuICAgICAgICAgICAgcG9zaXRpb246IHJlbGF0aXZlO1xuXG4gICAgICAgICAgICBzcGFuIHtcbiAgICAgICAgICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgICAgICAgICAgICAgbGVmdDogMDtcbiAgICAgICAgICAgICAgICByaWdodDogMDtcbiAgICAgICAgICAgICAgICBtYXJnaW46IGF1dG87XG4gICAgICAgICAgICAgICAgd2lkdGg6IGZpdC1jb250ZW50O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgaW9uLXNlbGVjdCB7XG4gICAgICAgIHBhZGRpbmc6IDA7XG4gICAgICAgIHdpZHRoOiBmaXQtY29udGVudDtcbiAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICAgICAgdGV4dC10cmFuc2Zvcm06IHVwcGVyY2FzZTtcbiAgICAgICAgZm9udC13ZWlnaHQ6IDUwMDtcbiAgICAgICAgbGV0dGVyLXNwYWNpbmc6IDEuNXB4O1xuICAgICAgICBmb250LXNpemU6IDFyZW07XG4gICAgICAgIGxpbmUtaGVpZ2h0OiA1MHB4O1xuICAgICAgICBjb2xvcjogdmFyKC0tcHJpbWFyeSk7XG4gICAgfVxufVxuXG4uYWxsX2RlbGl2ZXJ5IHtcbiAgICBiYWNrZ3JvdW5kOiB2YXIoLS13aGl0ZSk7XG4gICAgcGFkZGluZzogMTRweCAwcHg7XG4gICAgbWFyZ2luOiA4cHggMDtcblxuICAgIGlvbi1yb3cge1xuICAgICAgICBpb24tY29sIHtcbiAgICAgICAgICAgIGgyIHtcbiAgICAgICAgICAgICAgICBtYXJnaW46IDA7XG4gICAgICAgICAgICAgICAgZm9udC1zaXplOiAxLjJyZW07XG4gICAgICAgICAgICAgICAgZm9udC13ZWlnaHQ6IDYwMDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaDMge1xuICAgICAgICAgICAgICAgIG1hcmdpbjogMDtcbiAgICAgICAgICAgICAgICBjb2xvcjogdmFyKC0tdGV4dC1saWdodCk7XG4gICAgICAgICAgICAgICAgZm9udC1zaXplOiAuOTVyZW07XG4gICAgICAgICAgICAgICAgZm9udC13ZWlnaHQ6IDUwMDtcbiAgICAgICAgICAgICAgICBwYWRkaW5nLXRvcDogNXB4O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuXG5pb24tY2FyZCB7XG4gICAgYm9yZGVyLXJhZGl1czogMHB4O1xuICAgIHdpZHRoOiBjYWxjKDEwMCUgLSAwcHgpO1xuICAgIG1hcmdpbjogMCBhdXRvO1xuICAgIGJhY2tncm91bmQ6IHZhcigtLXdoaXRlKTtcbiAgICBtYXJnaW4tYm90dG9tOiAxNXB4O1xuICAgIGJveC1zaGFkb3c6IG5vbmU7XG4gICAgcGFkZGluZzogMTdweCAxNnB4O1xuXG4gICAgaDEge1xuICAgICAgICBtYXJnaW46IDA7XG4gICAgICAgIGNvbG9yOiB2YXIoLS10ZXh0LWJsYWNrKTtcbiAgICAgICAgdGV4dC10cmFuc2Zvcm06IHVwcGVyY2FzZTtcbiAgICAgICAgZm9udC1zaXplOiAxLjFyZW07XG4gICAgICAgIGZvbnQtd2VpZ2h0OiA2MDA7XG4gICAgICAgIGxldHRlci1zcGFjaW5nOiAxcHg7XG4gICAgICAgIHBhZGRpbmctYm90dG9tOiAyMHB4O1xuICAgIH1cblxuICAgIC5jYXJkX2NvbnRhaW50IHtcbiAgICAgICAgaDMge1xuICAgICAgICAgICAgbWFyZ2luOiAwO1xuICAgICAgICAgICAgY29sb3I6IHZhcigtLXByaW1hcnkpO1xuICAgICAgICAgICAgZm9udC1zaXplOiAuOXJlbTtcbiAgICAgICAgICAgIHRleHQtdHJhbnNmb3JtOiB1cHBlcmNhc2U7XG4gICAgICAgICAgICBwYWRkaW5nLXRvcDogMTRweDtcbiAgICAgICAgICAgIHBhZGRpbmctYm90dG9tOiA1cHg7XG4gICAgICAgICAgICBsZXR0ZXItc3BhY2luZzogMXB4O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLmdyYXBoX2NvbnRhaW5lciB7XG4gICAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgICAgICAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgICAgICAgbWluLWhlaWdodDogMjIwcHg7XG4gICAgICAgIHBhZGRpbmctYm90dG9tOiAzMHB4O1xuXG4gICAgICAgIC50ZXh0X2NvbnRhaW5lciB7XG4gICAgICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgICAgICAgICBib3R0b206IC0yMnB4O1xuICAgICAgICAgICAgbGVmdDogMDtcbiAgICAgICAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgICAgICAgaGVpZ2h0OiAxMDAlO1xuXG4gICAgICAgICAgICBwIHtcbiAgICAgICAgICAgICAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gICAgICAgICAgICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICAgICAgICAgICAgbWFyZ2luOiAwO1xuICAgICAgICAgICAgICAgIHBhZGRpbmctYm90dG9tOiAxOHB4O1xuICAgICAgICAgICAgICAgIGNvbG9yOiB2YXIoLS10ZXh0LWJsYWNrKTtcblxuICAgICAgICAgICAgICAgIHNwYW4ge1xuICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiBibG9jaztcbiAgICAgICAgICAgICAgICAgICAgY29sb3I6IHZhcigtLXRleHQtYmxhY2spO1xuICAgICAgICAgICAgICAgICAgICB3aWR0aDogZml0LWNvbnRlbnQ7XG4gICAgICAgICAgICAgICAgICAgIGZvbnQtc2l6ZTogLjhyZW07XG4gICAgICAgICAgICAgICAgICAgIGZvbnQtd2VpZ2h0OiA1MDA7XG4gICAgICAgICAgICAgICAgICAgIG1pbi13aWR0aDogNDBweDtcbiAgICAgICAgICAgICAgICAgICAgdGV4dC1hbGlnbjogcmlnaHQ7XG4gICAgICAgICAgICAgICAgICAgIHotaW5kZXg6IDk5OTtcbiAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICY6OmJlZm9yZSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6ICcnO1xuICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgICAgICAgICAgICAgICAgIHRvcDogLTRweDtcbiAgICAgICAgICAgICAgICAgICAgYm90dG9tOiAwO1xuICAgICAgICAgICAgICAgICAgICByaWdodDogMDtcbiAgICAgICAgICAgICAgICAgICAgbWFyZ2luOiAwIGF1dG87XG4gICAgICAgICAgICAgICAgICAgIHdpZHRoOiBjYWxjKDEwMCUgLSAwcHgpO1xuICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IDFweDtcbiAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZDogI2NjYztcbiAgICAgICAgICAgICAgICAgICAgb3BhY2l0eTogLjc7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLmdyYXBoIHtcbiAgICAgICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICAgICAgICAgIGJvdHRvbTogMHB4O1xuICAgICAgICAgICAgcmlnaHQ6IDA7XG4gICAgICAgICAgICB3aWR0aDogY2FsYygxMDAlIC0gNDBweCk7XG4gICAgICAgICAgICBoZWlnaHQ6IGNhbGMoMTAwJSAtIDE2cHgpO1xuICAgICAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgICAgIGFsaWduLWl0ZW1zOiBmbGV4LWVuZDtcbiAgICAgICAgICAgIHotaW5kZXg6IDk5OTk7XG4gICAgICAgICAgICBvdmVyZmxvdy14OiBzY3JvbGw7XG4gICAgICAgICAgICB3aGl0ZS1zcGFjZTogbm93cmFwO1xuICAgICAgICAgICAgcGFkZGluZy1ib3R0b206IDhweDtcblxuICAgICAgICAgICAgLmJhcl9ib3gge1xuICAgICAgICAgICAgICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgICAgICAgICAgICAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gICAgICAgICAgICAgICAgaGVpZ2h0OiBjYWxjKDEwMCUgLSAxMXB4KTtcbiAgICAgICAgICAgICAgICBtYXJnaW46IDAgNXB4O1xuICAgICAgICAgICAgICAgIHdpZHRoOiAzMHB4O1xuICAgICAgICAgICAgICAgIG1pbi13aWR0aDogMzBweDtcbiAgICAgICAgICAgICAgICBvdmVyZmxvdzogdmlzaWJsZSAhaW1wb3J0YW50O1xuXG4gICAgICAgICAgICAgICAgaDQge1xuICAgICAgICAgICAgICAgICAgICBjb2xvcjogdmFyKC0tdGV4dC1ibGFjayk7XG4gICAgICAgICAgICAgICAgICAgIGZvbnQtc2l6ZTogMC44cmVtO1xuICAgICAgICAgICAgICAgICAgICBmb250LXdlaWdodDogNTAwO1xuICAgICAgICAgICAgICAgICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gICAgICAgICAgICAgICAgICAgIG1hcmdpbjogMDtcbiAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgICAgICAgICAgICAgICBib3R0b206IDA7XG4gICAgICAgICAgICAgICAgICAgIGxlZnQ6IDA7XG4gICAgICAgICAgICAgICAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC5iYXIge1xuICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgICAgICAgICAgICAgICAgIGJvdHRvbTogOHB4O1xuICAgICAgICAgICAgICAgICAgICBsZWZ0OiAwO1xuICAgICAgICAgICAgICAgICAgICByaWdodDogMDtcbiAgICAgICAgICAgICAgICAgICAgbWFyZ2luOiAwIGF1dG87XG4gICAgICAgICAgICAgICAgICAgIHotaW5kZXg6IDk5OTtcbiAgICAgICAgICAgICAgICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICAgICAgICAgICAgICAgIG1heC1oZWlnaHQ6IGNhbGMoMTAwJSAtIDFweCk7XG4gICAgICAgICAgICAgICAgICAgIHRyYW5zaXRpb246IGFsbCAuM3M7XG5cblxuICAgICAgICAgICAgICAgICAgICBoNSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgICAgICAgICAgICAgICAgICAgICB0b3A6IC0zcHg7XG4gICAgICAgICAgICAgICAgICAgICAgICByaWdodDogMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxlZnQ6IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICB6LWluZGV4OiA5OTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiB2YXIoLS10ZXh0LWJsYWNrKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvbnQtc2l6ZTogLjU1cmVtO1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9udC13ZWlnaHQ6IDUwMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOiBmaXQtY29udGVudDtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1hcmdpbjogMCBhdXRvO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgJjo6YmVmb3JlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6ICcnO1xuICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgICAgICAgICAgICAgICAgICAgdG9wOiAxMXB4O1xuICAgICAgICAgICAgICAgICAgICAgICAgbGVmdDogMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJpZ2h0OiAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IGNhbGMoMTAwJSAtIDI1cHgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgbWFyZ2luOiBhdXRvO1xuICAgICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KHRvIGJvdHRvbSwgcmdiYSgxNSwgMTkzLCAxNjcsIDEpIDM1JSwgcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjg5KSAxMDAlKTtcblxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgJjpmaXJzdC1jaGlsZCB7XG4gICAgICAgICAgICAgICAgICAgIG1hcmdpbi1sZWZ0OiAxNXB4O1xuXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgJjpsYXN0LWNoaWxkIHtcbiAgICAgICAgICAgICAgICAgICAgbWFyZ2luLXJpZ2h0OiAxNXB4O1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICYuYmdfd2hpdGUge1xuICAgICAgICAgICAgICAgICAgICAuYmFyOjpiZWZvcmUge1xuICAgICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KHRvIGJvdHRvbSwgcmdiYSgyNTUsIDE5MiwgMCwgMSkgMzUlLCByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuODkpIDEwMCUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgIH1cbiAgICB9XG59IiwiaW9uLWhlYWRlciBpb24tdG9vbGJhciBpb24tdGl0bGUgLnRpdGxlX2lubmVyIHtcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xufVxuaW9uLWhlYWRlciBpb24tdG9vbGJhciBpb24tdGl0bGUgLnRpdGxlX2lubmVyIHNwYW4ge1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIGxlZnQ6IDA7XG4gIHJpZ2h0OiAwO1xuICBtYXJnaW46IGF1dG87XG4gIHdpZHRoOiBmaXQtY29udGVudDtcbn1cbmlvbi1oZWFkZXIgaW9uLXNlbGVjdCB7XG4gIHBhZGRpbmc6IDA7XG4gIHdpZHRoOiBmaXQtY29udGVudDtcbiAgZGlzcGxheTogZmxleDtcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgdGV4dC10cmFuc2Zvcm06IHVwcGVyY2FzZTtcbiAgZm9udC13ZWlnaHQ6IDUwMDtcbiAgbGV0dGVyLXNwYWNpbmc6IDEuNXB4O1xuICBmb250LXNpemU6IDFyZW07XG4gIGxpbmUtaGVpZ2h0OiA1MHB4O1xuICBjb2xvcjogdmFyKC0tcHJpbWFyeSk7XG59XG5cbi5hbGxfZGVsaXZlcnkge1xuICBiYWNrZ3JvdW5kOiB2YXIoLS13aGl0ZSk7XG4gIHBhZGRpbmc6IDE0cHggMHB4O1xuICBtYXJnaW46IDhweCAwO1xufVxuLmFsbF9kZWxpdmVyeSBpb24tcm93IGlvbi1jb2wgaDIge1xuICBtYXJnaW46IDA7XG4gIGZvbnQtc2l6ZTogMS4ycmVtO1xuICBmb250LXdlaWdodDogNjAwO1xufVxuLmFsbF9kZWxpdmVyeSBpb24tcm93IGlvbi1jb2wgaDMge1xuICBtYXJnaW46IDA7XG4gIGNvbG9yOiB2YXIoLS10ZXh0LWxpZ2h0KTtcbiAgZm9udC1zaXplOiAwLjk1cmVtO1xuICBmb250LXdlaWdodDogNTAwO1xuICBwYWRkaW5nLXRvcDogNXB4O1xufVxuXG5pb24tY2FyZCB7XG4gIGJvcmRlci1yYWRpdXM6IDBweDtcbiAgd2lkdGg6IGNhbGMoMTAwJSAtIDBweCk7XG4gIG1hcmdpbjogMCBhdXRvO1xuICBiYWNrZ3JvdW5kOiB2YXIoLS13aGl0ZSk7XG4gIG1hcmdpbi1ib3R0b206IDE1cHg7XG4gIGJveC1zaGFkb3c6IG5vbmU7XG4gIHBhZGRpbmc6IDE3cHggMTZweDtcbn1cbmlvbi1jYXJkIGgxIHtcbiAgbWFyZ2luOiAwO1xuICBjb2xvcjogdmFyKC0tdGV4dC1ibGFjayk7XG4gIHRleHQtdHJhbnNmb3JtOiB1cHBlcmNhc2U7XG4gIGZvbnQtc2l6ZTogMS4xcmVtO1xuICBmb250LXdlaWdodDogNjAwO1xuICBsZXR0ZXItc3BhY2luZzogMXB4O1xuICBwYWRkaW5nLWJvdHRvbTogMjBweDtcbn1cbmlvbi1jYXJkIC5jYXJkX2NvbnRhaW50IGgzIHtcbiAgbWFyZ2luOiAwO1xuICBjb2xvcjogdmFyKC0tcHJpbWFyeSk7XG4gIGZvbnQtc2l6ZTogMC45cmVtO1xuICB0ZXh0LXRyYW5zZm9ybTogdXBwZXJjYXNlO1xuICBwYWRkaW5nLXRvcDogMTRweDtcbiAgcGFkZGluZy1ib3R0b206IDVweDtcbiAgbGV0dGVyLXNwYWNpbmc6IDFweDtcbn1cbmlvbi1jYXJkIC5ncmFwaF9jb250YWluZXIge1xuICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gIG92ZXJmbG93OiBoaWRkZW47XG4gIG1pbi1oZWlnaHQ6IDIyMHB4O1xuICBwYWRkaW5nLWJvdHRvbTogMzBweDtcbn1cbmlvbi1jYXJkIC5ncmFwaF9jb250YWluZXIgLnRleHRfY29udGFpbmVyIHtcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICBib3R0b206IC0yMnB4O1xuICBsZWZ0OiAwO1xuICB3aWR0aDogMTAwJTtcbiAgaGVpZ2h0OiAxMDAlO1xufVxuaW9uLWNhcmQgLmdyYXBoX2NvbnRhaW5lciAudGV4dF9jb250YWluZXIgcCB7XG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgd2lkdGg6IDEwMCU7XG4gIG1hcmdpbjogMDtcbiAgcGFkZGluZy1ib3R0b206IDE4cHg7XG4gIGNvbG9yOiB2YXIoLS10ZXh0LWJsYWNrKTtcbn1cbmlvbi1jYXJkIC5ncmFwaF9jb250YWluZXIgLnRleHRfY29udGFpbmVyIHAgc3BhbiB7XG4gIGRpc3BsYXk6IGJsb2NrO1xuICBjb2xvcjogdmFyKC0tdGV4dC1ibGFjayk7XG4gIHdpZHRoOiBmaXQtY29udGVudDtcbiAgZm9udC1zaXplOiAwLjhyZW07XG4gIGZvbnQtd2VpZ2h0OiA1MDA7XG4gIG1pbi13aWR0aDogNDBweDtcbiAgdGV4dC1hbGlnbjogcmlnaHQ7XG4gIHotaW5kZXg6IDk5OTtcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xufVxuaW9uLWNhcmQgLmdyYXBoX2NvbnRhaW5lciAudGV4dF9jb250YWluZXIgcDo6YmVmb3JlIHtcbiAgY29udGVudDogXCJcIjtcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICB0b3A6IC00cHg7XG4gIGJvdHRvbTogMDtcbiAgcmlnaHQ6IDA7XG4gIG1hcmdpbjogMCBhdXRvO1xuICB3aWR0aDogY2FsYygxMDAlIC0gMHB4KTtcbiAgaGVpZ2h0OiAxcHg7XG4gIGJhY2tncm91bmQ6ICNjY2M7XG4gIG9wYWNpdHk6IDAuNztcbn1cbmlvbi1jYXJkIC5ncmFwaF9jb250YWluZXIgLmdyYXBoIHtcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICBib3R0b206IDBweDtcbiAgcmlnaHQ6IDA7XG4gIHdpZHRoOiBjYWxjKDEwMCUgLSA0MHB4KTtcbiAgaGVpZ2h0OiBjYWxjKDEwMCUgLSAxNnB4KTtcbiAgZGlzcGxheTogZmxleDtcbiAgYWxpZ24taXRlbXM6IGZsZXgtZW5kO1xuICB6LWluZGV4OiA5OTk5O1xuICBvdmVyZmxvdy14OiBzY3JvbGw7XG4gIHdoaXRlLXNwYWNlOiBub3dyYXA7XG4gIHBhZGRpbmctYm90dG9tOiA4cHg7XG59XG5pb24tY2FyZCAuZ3JhcGhfY29udGFpbmVyIC5ncmFwaCAuYmFyX2JveCB7XG4gIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xuICBoZWlnaHQ6IGNhbGMoMTAwJSAtIDExcHgpO1xuICBtYXJnaW46IDAgNXB4O1xuICB3aWR0aDogMzBweDtcbiAgbWluLXdpZHRoOiAzMHB4O1xuICBvdmVyZmxvdzogdmlzaWJsZSAhaW1wb3J0YW50O1xufVxuaW9uLWNhcmQgLmdyYXBoX2NvbnRhaW5lciAuZ3JhcGggLmJhcl9ib3ggaDQge1xuICBjb2xvcjogdmFyKC0tdGV4dC1ibGFjayk7XG4gIGZvbnQtc2l6ZTogMC44cmVtO1xuICBmb250LXdlaWdodDogNTAwO1xuICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gIG1hcmdpbjogMDtcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICBib3R0b206IDA7XG4gIGxlZnQ6IDA7XG4gIHdpZHRoOiAxMDAlO1xufVxuaW9uLWNhcmQgLmdyYXBoX2NvbnRhaW5lciAuZ3JhcGggLmJhcl9ib3ggLmJhciB7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgYm90dG9tOiA4cHg7XG4gIGxlZnQ6IDA7XG4gIHJpZ2h0OiAwO1xuICBtYXJnaW46IDAgYXV0bztcbiAgei1pbmRleDogOTk5O1xuICB3aWR0aDogMTAwJTtcbiAgbWF4LWhlaWdodDogY2FsYygxMDAlIC0gMXB4KTtcbiAgdHJhbnNpdGlvbjogYWxsIDAuM3M7XG59XG5pb24tY2FyZCAuZ3JhcGhfY29udGFpbmVyIC5ncmFwaCAuYmFyX2JveCAuYmFyIGg1IHtcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICB0b3A6IC0zcHg7XG4gIHJpZ2h0OiAwO1xuICBsZWZ0OiAwO1xuICB6LWluZGV4OiA5OTtcbiAgY29sb3I6IHZhcigtLXRleHQtYmxhY2spO1xuICBmb250LXNpemU6IDAuNTVyZW07XG4gIGZvbnQtd2VpZ2h0OiA1MDA7XG4gIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgd2lkdGg6IGZpdC1jb250ZW50O1xuICBtYXJnaW46IDAgYXV0bztcbn1cbmlvbi1jYXJkIC5ncmFwaF9jb250YWluZXIgLmdyYXBoIC5iYXJfYm94IC5iYXI6OmJlZm9yZSB7XG4gIGNvbnRlbnQ6IFwiXCI7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgdG9wOiAxMXB4O1xuICBsZWZ0OiAwO1xuICByaWdodDogMDtcbiAgd2lkdGg6IDEwMCU7XG4gIGhlaWdodDogY2FsYygxMDAlIC0gMjVweCk7XG4gIG1hcmdpbjogYXV0bztcbiAgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KHRvIGJvdHRvbSwgIzBmYzFhNyAzNSUsIHJnYmEoMjU1LCAyNTUsIDI1NSwgMC44OSkgMTAwJSk7XG59XG5pb24tY2FyZCAuZ3JhcGhfY29udGFpbmVyIC5ncmFwaCAuYmFyX2JveDpmaXJzdC1jaGlsZCB7XG4gIG1hcmdpbi1sZWZ0OiAxNXB4O1xufVxuaW9uLWNhcmQgLmdyYXBoX2NvbnRhaW5lciAuZ3JhcGggLmJhcl9ib3g6bGFzdC1jaGlsZCB7XG4gIG1hcmdpbi1yaWdodDogMTVweDtcbn1cbmlvbi1jYXJkIC5ncmFwaF9jb250YWluZXIgLmdyYXBoIC5iYXJfYm94LmJnX3doaXRlIC5iYXI6OmJlZm9yZSB7XG4gIGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCh0byBib3R0b20sICNmZmMwMDAgMzUlLCByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuODkpIDEwMCUpO1xufSJdfQ== */\";","import { Component, OnInit, OnDestroy } from '@angular/core';\nimport { Subscription } from 'rxjs';\nimport { NavController } from '@ionic/angular';\nimport { TranslateService } from '@ngx-translate/core';\nimport { UiElementsService } from '../services/common/ui-elements.service';\nimport { ApiService } from '../services/network/api.service';\nimport { Helper } from 'src/models/helper.models';\nimport { EarningInsight } from 'src/models/insight-earning.models';\nimport { OrderInsight } from 'src/models/insight-order.models';\nimport * as firebase from 'firebase';\nimport * as moment from 'moment';\n\n@Component({\n  selector: 'app-insight',\n  templateUrl: './insight.page.html',\n  styleUrls: ['./insight.page.scss']\n})\nexport class InsightPage implements OnInit, OnDestroy {\n  private subscriptions = new Array<Subscription>();\n  currency_icon: string;\n  duration = \"today\";\n  insightsEarning: EarningInsight;\n  priceRangeEarning: Array<number>;\n  chartDataParsedEarning: Array<{ date: string, percent: string, price: string }>;\n  insightsOrder: OrderInsight;\n  priceRangeOrder: Array<number>;\n  chartDataParsedOrder: Array<{ date: string, percent: string, price: string }>;\n  distance_metric = \"km\";\n\n  private deliveryStats = new Array<{ distance: number, duration: number }>();\n\n  constructor(private navCtrl: NavController, private translate: TranslateService,\n    private uiElementService: UiElementsService, private apiService: ApiService) { }\n\n  ngOnInit() {\n    let values = Helper.getSettingsValue([\"currency_icon\", \"distance_metric\"]);\n    if (values && values[0]) this.currency_icon = values[0];\n    if (values && values[1]) this.distance_metric = values[1].toLowerCase();\n\n    this.setupDefaultInsightsEarning();\n    this.setupDefaultInsightsOrder();\n    this.loadInsight();\n    //this.loadDeliverySummary();\n\n    const component = this;\n    let refDeliveryStatAll = firebase.database().ref().child(\"deliveries\").child(String(Helper.getProfile().id)).child(\"order_stats\");\n    refDeliveryStatAll.once('value').then(function (snapshot) {\n      let data = snapshot.val();\n      if (data != null) {\n        for (var prop in data) if (Object.prototype.hasOwnProperty.call(data, prop)) component.deliveryStats.push(data[prop]);\n        component.reFilterTravelledStat();\n      }\n    });\n  }\n\n  ngOnDestroy() {\n    for (let sub of this.subscriptions) sub.unsubscribe();\n    this.uiElementService.dismissLoading();\n  }\n\n  private reFilterTravelledStat() {\n    let totalDistance = 0;\n    if (this.insightsOrder.orders_count && this.deliveryStats) {\n      let limit = this.insightsOrder.orders_count > this.deliveryStats.length ? this.deliveryStats.length : this.insightsOrder.orders_count;\n      for (let i = 0; i < limit; i++) totalDistance += this.deliveryStats[i].distance;\n    }\n    this.insightsOrder.distance_travelled = Number(Helper.formatDistance(totalDistance, this.distance_metric));\n  }\n\n  setupDefaultInsightsOrder() {\n    this.insightsOrder = new OrderInsight();\n    if (this.insightsOrder && this.insightsOrder.orders_chart_data.length) {\n      let maxEarning = 100;\n      let breaker = maxEarning / 5;\n      this.priceRangeOrder = [];\n      for (let i = 0; i <= 5; i++) this.priceRangeOrder.push(Number((((i == 0) ? maxEarning : (this.priceRangeOrder[i - 1] - breaker))).toFixed(2)));\n      this.chartDataParsedOrder = [];\n      for (let cd of this.insightsOrder.orders_chart_data) this.chartDataParsedOrder.push({ date: \"0\", percent: String(((Number(cd.total) * 100) / maxEarning)), price: \"\" });\n    }\n  }\n\n  setupDefaultInsightsEarning() {\n    this.insightsEarning = new EarningInsight();\n    if (this.insightsEarning && this.insightsEarning.earnings_chart_data.length) {\n      let maxEarning = 100;\n      let breaker = maxEarning / 5;\n      this.priceRangeEarning = [];\n      for (let i = 0; i <= 5; i++) this.priceRangeEarning.push(Number((((i == 0) ? maxEarning : (this.priceRangeEarning[i - 1] - breaker))).toFixed(2)));\n      this.chartDataParsedEarning = [];\n      for (let cd of this.insightsEarning.earnings_chart_data) this.chartDataParsedEarning.push({ date: \"0\", percent: String(((Number(cd.total) * 100) / maxEarning)), price: \"\" });\n    }\n  }\n\n  loadInsight() {\n    this.loadInsightEarnings();\n    this.loadInsightOrders();\n  }\n\n  loadInsightEarnings() {\n    this.translate.get(\"loading\").subscribe(value => {\n      this.uiElementService.presentToast(value);\n      let insightRequest = this.getInsightRequest();\n      this.subscriptions.push(this.apiService.getInsightEarning(insightRequest).subscribe(res => {\n        if (!res.total_earnings) res.total_earnings = 0; res.total_earnings = Number(Number(res.total_earnings).toFixed(2));\n        this.insightsEarning = res;\n        if (this.insightsEarning && this.insightsEarning.earnings_chart_data.length) {\n          let maxEarning = 0;\n          for (let cd of this.insightsEarning.earnings_chart_data) if (Number(cd.total) > maxEarning) maxEarning = Number(cd.total);\n          let breaker = maxEarning / 5;\n          this.priceRangeEarning = [];\n          for (let i = 0; i <= 5; i++) this.priceRangeEarning.push(Number((((i == 0) ? maxEarning : (this.priceRangeEarning[i - 1] - breaker))).toFixed(2)));\n          this.chartDataParsedEarning = [];\n          for (let cd of this.insightsEarning.earnings_chart_data) this.chartDataParsedEarning.push({ date: this.getPeriodText(cd.period, insightRequest), percent: String(((Number(cd.total) * 100) / maxEarning)), price: this.currency_icon + \" \" + Number(cd.total).toFixed() });\n        } else {\n          this.setupDefaultInsightsEarning();\n        }\n        this.uiElementService.dismissLoading();\n      }, err => {\n        console.log(\"insights\", err);\n        this.uiElementService.dismissLoading();\n      }));\n    });\n  }\n\n  loadInsightOrders() {\n    let insightRequest = this.getInsightRequest();\n    this.subscriptions.push(this.apiService.getInsightOrder(Helper.getProfile().id, insightRequest).subscribe(res => {\n      //if (!res.total_earnings) res.total_earnings = 0; res.total_earnings = Number(Number(res.total_earnings).toFixed(2));\n      this.insightsOrder = res;\n      if (this.insightsOrder && this.insightsOrder.orders_chart_data.length) {\n        let maxEarning = 0;\n        for (let cd of this.insightsOrder.orders_chart_data) if (Number(cd.total) > maxEarning) maxEarning = Number(cd.total);\n        let breaker = maxEarning / 5;\n        this.priceRangeOrder = [];\n        for (let i = 0; i <= 5; i++) this.priceRangeOrder.push(Number((((i == 0) ? maxEarning : (this.priceRangeOrder[i - 1] - breaker))).toFixed(2)));\n        this.chartDataParsedOrder = [];\n        for (let cd of this.insightsOrder.orders_chart_data) this.chartDataParsedOrder.push({ date: this.getPeriodText(cd.period, insightRequest), percent: String(((Number(cd.total) * 100) / maxEarning)), price: Number(cd.total).toFixed() });\n      } else {\n        this.setupDefaultInsightsOrder();\n      }\n      this.reFilterTravelledStat();\n      this.uiElementService.dismissLoading();\n    }, err => {\n      console.log(\"insights\", err);\n      this.uiElementService.dismissLoading();\n    }));\n  }\n\n  // loadDeliverySummary() {\n  //   let profile = Helper.getProfile();\n  //   this.subscriptions.push(this.apiService.getSummary(String(profile.id)).subscribe(res => {\n  //     this.profileSummary = res;\n  //     Helper.setProfileSummary(this.profileSummary);\n  //   }, err => {\n  //     console.log(\"getSummary\", err);\n  //   }));\n  // }\n\n  navTransactions() {\n    this.navCtrl.navigateRoot(['/wallet']);\n  }\n\n  private getInsightRequest() {\n    //  'duration' => 'required|in:hours,days,months,years',\n    //  'limit' => 'required|numeric'\n    let toReturn = { duration: \"\", limit: 0 };\n    switch (this.duration) {\n      case \"today\":\n        toReturn.duration = \"hours\";\n        toReturn.limit = 24;\n        break;\n      case \"week\":\n        toReturn.duration = \"days\";\n        toReturn.limit = 7;\n        break;\n      case \"month\":\n        toReturn.duration = \"months\";\n        toReturn.limit = 12;\n        break;\n      case \"year\":\n        toReturn.duration = \"years\";\n        toReturn.limit = 12;\n        break;\n    }\n    return toReturn;\n  }\n\n  private getPeriodText(period: string, ir: { duration: string; limit: number }): string {\n    let months = [\"jan\", \"feb\", \"mar\", \"apr\", \"may\", \"jun\", \"jul\", \"aug\", \"sep\", \"oct\", \"nov\", \"dec\"];\n    let days = [\"sun\", \"mon\", \"tue\", \"wed\", \"thu\", \"fri\", \"sat\"];\n\n    let toReturn = String(period);\n    if (toReturn.includes(\"-\")) {\n      return moment(toReturn).format(\"DD/MM\");\n    } else {\n      switch (ir.duration) {\n        case \"hours\":\n          if (toReturn.length == 1) toReturn = \"0\" + toReturn;\n          break;\n        case \"months\":\n          let index = Number(toReturn);\n          toReturn = this.translate.instant(months[index > 0 ? index - 1 : index]);\n          break;\n      }\n    }\n    return toReturn;\n  }\n\n}\n","export class EarningInsight {\n    total_earnings: number;\n    earnings_chart_data: Array<{ period: string, total: string }>;\n\n    constructor() {\n        this.total_earnings = 0;\n        this.earnings_chart_data = [{ period: \"0\", total: \"10\" }, { period: \"0\", total: \"10\" }, { period: \"0\", total: \"10\" }, { period: \"0\", total: \"10\" }, { period: \"0\", total: \"10\" }];\n    }\n}"]}